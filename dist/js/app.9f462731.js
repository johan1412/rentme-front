(function(){"use strict";var e={5350:function(e,t,s){var r=s(144),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("base-layout",[s("router-view")],1)},i=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app"},[s("NavBar"),e.mainMenu?s("MainMenu"):s("CommonMenu"),e.messageNotification?s("div",{staticClass:"alert-message alert alert-success text-center mt-5 p-3"},[e._v(" "+e._s(e.messageNotification)+" "),e._m(0)]):e._e(),e._t("default"),s("Footer")],2)},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[s("span",{staticClass:"ml-5",attrs:{"aria-hidden":"true"}},[e._v("×")])])}],l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"border-bottom"},[s("b-navbar",{attrs:{toggleable:"lg",type:"light",variant:"white"}},[s("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),s("b-navbar-brand",{staticClass:"fw-bold"},[s("router-link",{staticClass:"home-link",attrs:{to:"/"}},[e._v("RENTME")])],1),s("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[e.user?s("b-navbar-nav",{staticClass:"ml-auto"},[e.user.roles.includes("ROLE_ADMIN")?e._e():s("b-nav-item",[s("router-link",{staticClass:"btn text-dark",attrs:{to:"/messages"}},[e._v("Mes messages")])],1),e.user.roles.includes("ROLE_ADMIN")?s("b-nav-item",[s("router-link",{staticClass:"btn text-dark",attrs:{to:"/admin/products"}},[e._v("Annonce en attente de validation ("+e._s(e.numberOfProductsNotValid)+")")])],1):e._e(),e.user.roles.includes("ROLE_ADMIN")?s("b-nav-item",[s("router-link",{staticClass:"btn text-dark",attrs:{to:"/admin/categories"}},[e._v("Ajouter une nouvelle catégorie")])],1):e._e(),e.user.roles.includes("ROLE_RENTER")?s("b-nav-item",[s("router-link",{staticClass:"btn text-dark",attrs:{to:"/publish"}},[e._v("Publier une annonce")])],1):e._e(),e.user.roles.includes("ROLE_RENTER")?s("b-nav-item",[s("router-link",{staticClass:"btn text-dark",attrs:{to:"/products"}},[e._v("Mes annonces")])],1):e._e(),s("b-nav-item",[s("router-link",{staticClass:"btn text-dark",attrs:{to:"/account"}},[e._v("Mon compte")])],1),s("b-nav-item",{on:{click:e.logout}},[s("router-link",{staticClass:"btn bg-dark text-light logout-button",attrs:{to:"/"}},[e._v("Se déconnecter")])],1)],1):s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-item",[s("router-link",{staticClass:"btn bg-dark text-light",attrs:{to:"#"}},[e._v("Publier une annonce")])],1),s("b-nav-item",[s("router-link",{staticClass:"btn text-dark",attrs:{to:"/register"}},[e._v("S'inscrire")])],1),s("b-nav-item",[s("router-link",{staticClass:"btn text-dark",attrs:{to:"/login"}},[e._v("Se connecter")])],1)],1),s("div",[s("circle-spin",{attrs:{loading:e.isLoading}})],1)],1)],1)],1)},c=[],d=s(629),u={name:"NavBar",data(){return{modalShow:!1,isLoading:!1}},methods:{logout(){localStorage.removeItem("token"),localStorage.removeItem("userId"),this.$store.dispatch("user",null),this.$store.dispatch("products",[]),this.$store.dispatch("numberOfProductsNotValid",0),this.$store.dispatch("parentCategories",[]),this.$store.dispatch("categories",[]),this.$store.dispatch("reservations",[]),"/"!=this.$route.fullPath?this.$router.push("/"):this.$router.go()}},computed:{...(0,d.Se)(["user","numberOfProductsNotValid","productsNotValid"])}},m=u,p=s(1001),h=(0,p.Z)(m,l,c,!1,null,"632ba09b",null),f=h.exports,v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",[s("div",{staticClass:"footer-box"},[s("ul",[s("li",{staticClass:"footer-title"},[e._v("Informations pratiques")]),s("li",[s("router-link",{attrs:{to:"#"}},[e._v("Nous contacter")])],1),s("li",[s("router-link",{attrs:{to:"#"}},[e._v("Le concept")])],1),s("li",[s("router-link",{attrs:{to:"#"}},[e._v("FAQ")])],1)]),s("ul",[s("li",{staticClass:"footer-title"},[e._v("Informations légales")]),s("li",[s("router-link",{attrs:{to:"/conditions-generales-utilisation"}},[e._v("Conditions Générales d'Utilisation")])],1),s("li",[s("router-link",{attrs:{to:"/conditions-generales-vente"}},[e._v("Conditions Générales de Vente")])],1)])])])},g=[],b={name:"Footer"},C=b,y=(0,p.Z)(C,v,g,!1,null,null,null),_=y.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main-menu",class:{"fixed-top":e.isFixed}},[s("ul",e._l(e.categories,(function(t,r){return s("li",{key:t.id,on:{mouseover:function(t){return e.mouseOver(r)},mouseleave:function(t){return e.mouseLeave()}}},[s("router-link",{attrs:{to:"/search?category="+t.name.toLowerCase()}},[e._v(e._s(t.name))]),e.activeCategory==r?s("ul",{on:{click:function(t){e.activeCategory=null}}},e._l(t.children,(function(t){return s("li",{key:t.id},[s("router-link",{attrs:{to:"/search?category="+t.name.toLowerCase()}},[e._v(e._s(t.name))])],1)})),0):e._e()],1)})),0)])},w=[],k=s(9669),L=s.n(k);L().defaults.baseURL="https://localhost:8443/";const P={"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},I=async e=>await L().post("https://localhost:8443/authentication_token",e),E=async e=>await L().post("https://localhost:8443/users",e),A=async()=>await L().post("https://localhost:8443/reset-password"),S=async e=>await L().get(`https://localhost:8443/users/${e}`,{headers:P}),N=async(e,t)=>await L().patch(`https://localhost:8443/users/${e}`,t,{headers:P}),R=async()=>await L().get("https://localhost:8443/categories"),M=async e=>await L().post("https://localhost:8443/categories",e,{headers:P}),T=async()=>await L().get("https://localhost:8443/products"),q=async()=>await L().get("https://localhost:8443/products/products-valid"),$=async e=>await L().get(`https://localhost:8443/products/${e}`),V=async()=>await L().get("https://localhost:8443/categories"),B=async()=>await L().get("https://localhost:8443/products/products-not-valid",{headers:P}),F=async(e,t)=>await L().patch(`https://localhost:8443/products/${e}`,t,{headers:P}),D=async(e,t)=>await L().post("https://localhost:8444/create-checkout-session",{product:e,tenant:t}),j=async e=>await L().post("https://localhost:8444/refund",e),O=async e=>await L()["delete"](`https://localhost:8443/products/${e}`,{headers:P}),U=async e=>await L().post("https://localhost:8443/products",e,{headers:P}),H=async e=>await L().post("https://localhost:8443/media_objects",e,{...P,"Content-type":"multipart/form-data"}),G=async()=>await L().get("https://localhost:8443/reservations/user",{headers:P}),Z=async e=>await L().patch(`https://localhost:8443/reservations/${e.id}`,e,{headers:P}),z=async e=>await L().post("https://localhost:8443/reservations",e,{headers:P});var W={register:E,login:I,resetPassword:A,getUser:S,updateUser:N,parentCategories:R,postCategory:M,getProducts:T,updateProduct:F,deleteProduct:O,getProductsNotValid:B,postProduct:U,getReservations:G,updateReservation:Z,getCategories:V,getProduct:$,getSessionIdPayment:D,postImage:H,postReservation:z,refund:j,getProductsValid:q},K={name:"MainMenu",data:()=>({activeCategory:null,isFixed:!1}),created(){W.getCategories().then((e=>{this.$store.dispatch("categories",e.data["hydra:member"].filter((e=>!e?.parent)))})).catch((e=>console.log(e)))},computed:{...(0,d.Se)(["categories"])},mounted(){window.addEventListener("scroll",this.handleScroll)},destroyed(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){window.scrollY>=87?this.isFixed=!0:this.isFixed=!1},mouseOver(e){this.activeCategory=e},mouseLeave(){this.activeCategory=null}}},J=K,Y=(0,p.Z)(J,x,w,!1,null,null,null),X=Y.exports,Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"common-menu"},[s("ul",e._l(e.categories,(function(t,r){return s("li",{key:t.id,on:{mouseover:function(t){return e.mouseOver(r)},mouseleave:function(t){return e.mouseLeave()}}},[s("router-link",{attrs:{to:"/search?category="+t.name.toLowerCase()}},[e._v(e._s(t.name))]),e.activeCategory==r?s("ul",{on:{click:function(t){e.activeCategory=null}}},e._l(t.children,(function(t){return s("li",{key:t.id},[s("router-link",{attrs:{to:t.url}},[e._v(e._s(t.name))])],1)})),0):e._e()],1)})),0)]),s("div",{staticClass:"common-menu",class:{"fixed-top":e.isFixed,"d-none":!e.isFixed}},[s("ul",e._l(e.categories,(function(t,r){return s("li",{key:t.id,on:{mouseover:function(t){return e.mouseOver(r)},mouseleave:function(t){return e.mouseLeave()}}},[s("router-link",{attrs:{to:"/search?category="+t.name.toLowerCase()}},[e._v(e._s(t.name))]),e.activeCategory==r?s("ul",{on:{click:function(t){e.activeCategory=null}}},e._l(t.children,(function(t){return s("li",{key:t.id},[s("router-link",{attrs:{to:"/search?category="+t.name.toLowerCase()}},[e._v(e._s(t.name))])],1)})),0):e._e()],1)})),0)])])},ee=[],te={name:"CommonMenu",data:()=>({activeCategory:null,isFixed:!1}),created(){W.getCategories().then((e=>{this.$store.dispatch("categories",e.data["hydra:member"].filter((e=>!e?.parent)))})).catch((e=>console.log(e)))},computed:{...(0,d.Se)(["categories"])},mounted(){window.addEventListener("scroll",this.handleScroll)},destroyed(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){window.scrollY>=117?this.isFixed=!0:this.isFixed=!1},mouseOver(e){this.activeCategory=e},mouseLeave(){this.activeCategory=null}}},se=te,re=(0,p.Z)(se,Q,ee,!1,null,null,null),ae=re.exports,ie={name:"BaseLayout",data:()=>({messageNotification:null,mainMenu:!1}),components:{NavBar:f,Footer:_,MainMenu:X,CommonMenu:ae},created(){this.$store.getters.user&&W.getUser(localStorage.getItem("userId")).then((e=>{this.$store.dispatch("user",e.data)})).catch((e=>{console.log(e)})),"/"==this.$route.fullPath?this.mainMenu=!0:this.mainMenu=!1,localStorage.getItem("successMessage")&&(this.messageNotification=localStorage.getItem("successMessage"))},watch:{"$route.query":{immediate:!1,handler(){window.scrollTo(0,0),"/"==this.$route.fullPath?this.mainMenu=!0:this.mainMenu=!1,"/login"!=this.$route.fullPath?localStorage.getItem("successMessage")&&(this.messageNotification=null,localStorage.removeItem("successMessage")):localStorage.getItem("successMessage")&&(this.messageNotification=localStorage.getItem("successMessage"))}}}},oe=ie,ne=(0,p.Z)(oe,o,n,!1,null,null,null),le=ne.exports,ce={components:{BaseLayout:le},name:"App"},de=ce,ue=(0,p.Z)(de,a,i,!1,null,null,null),me=ue.exports,pe=s(8345),he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("LoginForm")],1)},fe=[],ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container m-auto"},[s("div",{staticClass:"spinner-middle"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"spinner-border",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[e._v("Loading...")])])]),s("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.validate;return[s("form",{on:{submit:function(t){t.preventDefault(),r().then(e.handleSubmit)}}},[s("b-card",{staticClass:"form-frame mx-auto"},[s("b-card-text",{staticClass:"form-top text-center"},[s("b-icon",{attrs:{icon:"person-circle","aria-hidden":"true"}}),s("p",[e._v("CONNECTEZ-VOUS")])],1),s("b-card-text",{staticClass:"form-data"},[s("div",{staticClass:"form-group"},[s("ValidationProvider",{attrs:{rules:"required|email|minmax:1,50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:"is-"+a,attrs:{type:"email",id:"inputEmail","aria-describedby":"emailHelp",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group mt-4"},[s("ValidationProvider",{attrs:{rules:"required|minmax:5,15"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("div",{staticClass:"d-flex align-items-center password-group"},["checkbox"===(e.passwordVisible?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:"is-"+a,attrs:{id:"inputPassword",placeholder:"Mot de passe",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{change:function(t){var s=e.password,r=t.target,a=!!r.checked;if(Array.isArray(s)){var i=null,o=e._i(s,i);r.checked?o<0&&(e.password=s.concat([i])):o>-1&&(e.password=s.slice(0,o).concat(s.slice(o+1)))}else e.password=a}}}):"radio"===(e.passwordVisible?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:"is-"+a,attrs:{id:"inputPassword",placeholder:"Mot de passe",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{change:function(t){e.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:"is-"+a,attrs:{id:"inputPassword",placeholder:"Mot de passe",type:e.passwordVisible?"text":"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("b-icon",{staticClass:"eye-icon",attrs:{icon:e.passwordVisible?"eye":"eye-slash","aria-hidden":"true"},on:{click:function(t){e.passwordVisible=!e.passwordVisible}}})],1),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1)]),s("button",{staticClass:"btn btn-submit mb-3",attrs:{type:"submit"}},[e._v("Se connecter")]),s("a",{staticClass:"btn",attrs:{href:"https://localhost:8443/reset-password"}},[s("u",[e._v("Mot de passe oublié ?")])])],1)],1)]}}])})],1)},ge=[],be=(s(6699),s(2954)),Ce=s(4479);(0,be.l7)("minmax",{validate(e,{min:t,max:s}){return e.length>=t&&e.length<=s},message:"Ce champs doit contenir entre {min} et {max} caractères",params:["min","max"]}),(0,be.l7)("required",{...Ce.C1,message:"Ce champs est obligatoire"}),(0,be.l7)("email",{...Ce.Do,message:"Le format ne correspond pas à un email"});var ye={name:"LoginForm",components:{ValidationProvider:be.d_,ValidationObserver:be._j},data:()=>({email:"",password:"",isLoading:!1,passwordVisible:!1}),mounted(){this.$store.getters.user&&this.$router.push("/")},methods:{handleSubmit:async function(){this.isLoading=!0;const e=await W.login({email:this.email,password:this.password});e&&(localStorage.setItem("token",e.data.token),localStorage.setItem("userId",e.data.data.id),this.$store.dispatch("user",e.data.data),e.data.data.roles.includes("ROLE_ADMIN")&&this.$store.dispatch("numberOfProductsNotValid",e.data.data.numberOfProductsNotValid),this.isLoading=!1,this.$router.push(this.$route.query.redirect||"/"))}}},_e=ye,xe=(0,p.Z)(_e,ve,ge,!1,null,"52818923",null),we=xe.exports,ke={components:{LoginForm:we},name:"LoginPage"},Le=ke,Pe=(0,p.Z)(Le,he,fe,!1,null,null,null),Ie=Pe.exports,Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("RegisterForm")],1)},Ae=[],Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container m-auto"},[s("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.validate;return[s("form",{on:{submit:function(t){t.preventDefault(),r().then(e.handleSubmit)}}},[s("b-card",{staticClass:"form-frame mx-auto"},[s("b-card-text",{staticClass:"form-top text-center"},[s("b-icon",{attrs:{icon:"person-circle","aria-hidden":"true"}}),s("p",[e._v("INSCRIVEZ-VOUS")])],1),s("b-card-text",{staticClass:"form-data"},[s("div",{staticClass:"form-group"},[s("ValidationProvider",{attrs:{rules:"required|minmax:1,50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],class:"is-"+a,attrs:{type:"text",id:"firstName",placeholder:"Saisissez votre nom"},domProps:{value:e.firstName},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("ValidationProvider",{attrs:{rules:"required|minmax:1,50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],class:"is-"+a,attrs:{type:"text",id:"lastName",placeholder:"Saisissez votre prénom"},domProps:{value:e.lastName},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group address-form mt-4"},[s("label",{staticClass:"address-label"},[e._v("Votre adresse")]),s("div",{staticClass:"frame-address-form-input"},[s("ValidationProvider",{attrs:{rules:"required|minmax:1,100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.addressStreet,expression:"addressStreet"}],class:"is-"+a,attrs:{type:"text",id:"addressStreet",placeholder:"Nom de la rue"},domProps:{value:e.addressStreet},on:{input:function(t){t.target.composing||(e.addressStreet=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)}),s("ValidationProvider",{attrs:{rules:"required|minmax:1,50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.addressCity,expression:"addressCity"}],class:"is-"+a,attrs:{type:"text",id:"addressCity",placeholder:"Nom de la ville"},domProps:{value:e.addressCity},on:{input:function(t){t.target.composing||(e.addressCity=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)}),s("ValidationProvider",{attrs:{rules:"required|integer|between:1,99"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[s("b-form-select",{staticClass:"mt-3",attrs:{options:e.optionsRegion,"value-field":"id","text-field":"name"},scopedSlots:e._u([{key:"first",fn:function(){return[s("b-form-select-option",{attrs:{value:null,enabled:""}},[e._v("-- Selectionnez votre département --")])]},proxy:!0}],null,!0),model:{value:e.addressRegion,callback:function(t){e.addressRegion=t},expression:"addressRegion"}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1)]),s("div",{staticClass:"form-group"},[s("ValidationProvider",{attrs:{rules:"required|email|minmax:1,50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:"is-"+a,attrs:{type:"email",id:"exampleInputEmail1",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("ValidationProvider",{attrs:{rules:"required|minmax:5,15"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("div",{staticClass:"d-flex align-items-center password-group"},["checkbox"===(e.passwordVisible?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:"is-"+a,attrs:{id:"inputPassword",placeholder:"Nouveau mot de passe",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{change:function(t){var s=e.password,r=t.target,a=!!r.checked;if(Array.isArray(s)){var i=null,o=e._i(s,i);r.checked?o<0&&(e.password=s.concat([i])):o>-1&&(e.password=s.slice(0,o).concat(s.slice(o+1)))}else e.password=a}}}):"radio"===(e.passwordVisible?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:"is-"+a,attrs:{id:"inputPassword",placeholder:"Nouveau mot de passe",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{change:function(t){e.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:"is-"+a,attrs:{id:"inputPassword",placeholder:"Nouveau mot de passe",type:e.passwordVisible?"text":"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("b-icon",{staticClass:"eye-icon",attrs:{icon:e.passwordVisible?"eye":"eye-slash","aria-hidden":"true"},on:{click:function(t){e.passwordVisible=!e.passwordVisible}}})],1),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group mt-5"},[s("ValidationProvider",{attrs:{rules:"oneOf:accepted,not_accepted"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[s("b-form-checkbox",{attrs:{id:"roleChoice",name:"roleChoice",value:"accepted","unchecked-value":"not_accepted"},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}},[e._v(" Je souhaite pouvoir mettre en location mes produits sur le site "),s("div",[s("small",[e._v("(vous pourrez toujours selectionner cette option plus tard, depuis votre espace personnel)")])])]),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group mt-5"},[s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[s("b-form-checkbox",{attrs:{id:"cgu",name:"cgu",value:"accepted","unchecked-value":"not_accepted"},on:{change:e.updateCgu},model:{value:e.cgu,callback:function(t){e.cgu=t},expression:"cgu"}},[e._v(" Je reconnais avoir lu et compris les "),s("router-link",{staticClass:"text-dark",attrs:{to:"/conditions-generales-utilisation",target:"_blank"}},[s("u",[e._v("Conditions générales d'utilisation")])]),e._v(" et je les accepte ")],1),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1)]),s("button",{staticClass:"btn btn-submit mb-3",attrs:{type:"submit",id:"registerButton"}},[e._v("S'inscrire")])],1)],1)]}}])})],1)},Ne=[];L().defaults.baseURL="https://localhost:8443/";const Re={"Content-type":"application/json"},Me=async e=>(L().defaults.baseURL="https://localhost:8443/",await L().post("regions",e,{headers:Re})),Te=async()=>(L().defaults.baseURL="https://localhost:8443/",await L().get("regions",{headers:Re}));var qe={postRegion:Me,getRegions:Te};(0,be.l7)("minmax",{validate(e,{min:t,max:s}){return e.length>=t&&e.length<=s},message:"Ce champs doit contenir entre {min} et {max} caractères",params:["min","max"]}),(0,be.l7)("required",{...Ce.C1,message:"Ce champs est obligatoire"}),(0,be.l7)("integer",{...Ce._L,message:"Ce champs doit etre un nombre"}),(0,be.l7)("between",{...Ce.vX,message:"La valeur doit être entre {min} et {max}",params:["min","max"]}),(0,be.l7)("email",{...Ce.Do,message:"Le format ne correspond pas à un email"}),(0,be.l7)("oneOf",{...Ce.kw,message:"Ne correspond à aucune valeur possible"});var $e={name:"Register",components:{ValidationProvider:be.d_,ValidationObserver:be._j},data:()=>({firstName:"",lastName:"",addressStreet:"",addressCity:"",addressRegion:null,address:{},email:"",password:"",role:"",cgu:!1,optionsRegion:[],passwordVisible:!1}),methods:{handleSubmit:function(){"accepted"==this.cgu&&(this.address={streetName:this.addressStreet,city:this.addressCity,region:"regions/"+this.addressRegion},W.register({firstName:this.firstName,lastName:this.lastName,address:this.address,email:this.email,password:this.password,roles:"accepted"===this.role?["ROLE_RENTER"]:["ROLE_USER"]}).then((()=>{localStorage.setItem("successMessage","Votre compte a bien été créé"),this.$router.push("/login")})).catch((e=>{console.log(e)})))},updateCgu(){"accepted"==this.cgu?document.getElementById("registerButton").removeAttribute("disabled"):document.getElementById("registerButton").setAttribute("disabled",!0)},updateRegion(e){this.addressRegion=e}},mounted(){document.getElementById("registerButton").setAttribute("disabled",!0)},created(){qe.getRegions().then((e=>{this.optionsRegion=e.data["hydra:member"],this.$store.dispatch("regions",e.data["hydra:member"])})).catch((e=>console.log(e)))}},Ve=$e,Be=(0,p.Z)(Ve,Se,Ne,!1,null,"fbf460c2",null),Fe=Be.exports,De={components:{RegisterForm:Fe},name:"RegisterPage"},je=De,Oe=(0,p.Z)(je,Ee,Ae,!1,null,null,null),Ue=Oe.exports,He=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("h3",{staticClass:"text-center mt-5"},[e._v("Création d'une nouvelle catégorie")]),s("hr"),s("CategoryForm")],1)},Ge=[],Ze=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container mx-auto mt-5"},[s("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.validate;return[s("form",{on:{submit:function(t){t.preventDefault(),r().then(e.handleSubmit)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"form-group col-md-5"},[s("label",[e._v("Nom de la catégorie")]),s("ValidationProvider",{attrs:{rules:"required|minmax:1,50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",class:"is-"+a,attrs:{type:"text",placeholder:"Entrez le nom de la catégorie",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group col-md-5"},[s("label",{attrs:{for:"photos"}},[e._v("Photo d'illustration")]),s("ValidationProvider",{attrs:{rules:"size:2000"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{ref:"file",staticClass:"form-control",class:"is-"+a,attrs:{type:"file",id:"photo"},on:{change:e.uploadFile}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1)]),s("div",{staticClass:"form-group"},[s("label",[e._v("Catégorie parente :")]),s("b-form-select",{attrs:{options:e.parentCategories,"value-field":"id","text-field":"name"},scopedSlots:e._u([{key:"first",fn:function(){return[s("b-form-select-option",{attrs:{value:null,enabled:""}},[e._v("Pas de parent")])]},proxy:!0}],null,!0),model:{value:e.parent,callback:function(t){e.parent=t},expression:"parent"}})],1),s("button",{staticClass:"btn text-light submit-button mt-5",attrs:{type:"submit"}},[e._v("Ajouter")])])]}}])})],1)},ze=[];(0,be.l7)("minmax",{validate(e,{min:t,max:s}){return e.length>=t&&e.length<=s},message:"Ce champs doit contenir entre {min} et {max} caractères",params:["min","max"]}),(0,be.l7)("required",{...Ce.C1,message:"Ce champs est obligatoire"}),(0,be.l7)("size",{...Ce.dp,message:"Le fichier ne doit pas faire plus de {_size_}Kb",params:["size"]});var We={name:"CategoryForm",components:{ValidationProvider:be.d_,ValidationObserver:be._j},data:()=>({parent:null,name:"",image:null}),created(){W.parentCategories().then((e=>{this.$store.dispatch("parentCategories",e.data["hydra:member"].filter((e=>!e?.parent)))})).catch((e=>console.log(e)))},computed:{...(0,d.Se)(["parentCategories"])},mounted(){const e=this.$store.getters.adminPermission;e||this.$router.push("/")},methods:{uploadFile(){this.image=this.$refs.file.files[0]},handleSubmit:async function(){let e=null;try{if(this.image){const t=new FormData;t.append("file",this.Images);let s=await W.postImage(t);e=s.data.contentUrl?{path:s.data.contentUrl}:null}let t=this.parent?"/categories/"+this.parent:null,s=this.name.charAt(0).toUpperCase()+this.name.slice(1);await W.postCategory({name:s,parent:t,img:e}),this.$router.go(),this.name="",this.parent=null,localStorage.setItem("successMessage","La catégorie a bien été créée")}catch(t){console.log(t)}}}},Ke=We,Je=(0,p.Z)(Ke,Ze,ze,!1,null,null,null),Ye=Je.exports,Xe={components:{CategoryForm:Ye},name:"CategoryPage"},Qe=Xe,et=(0,p.Z)(Qe,He,Ge,!1,null,null,null),tt=et.exports,st=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("h3",{staticClass:"mt-5 text-center"},[e._v("Annonce en attente de validation ("+e._s(e.numberOfProductsNotValid)+")")]),s("hr"),e.numberOfProductsNotValid>0?s("div",[s("b-card-group",{staticClass:"card-deck-custom-list my-5",attrs:{deck:""}},e._l(e.products,(function(t){return s("div",{key:t.id,staticClass:"d-flex align-items-center"},[s("router-link",{staticClass:"mt-3",attrs:{to:"/products/"+t.id}},[s("b-card",{staticClass:"overflow-hidden",attrs:{"no-body":""}},[s("b-row",{staticClass:"h-100",attrs:{"no-gutters":""}},[s("b-col",{attrs:{md:"4"}},[s("b-card-img",{staticClass:"rounded-0",attrs:{src:0!==t.files.length?"https://localhost:8443/media"+t.files[0].path:"https://hearhear.org/wp-content/uploads/2019/09/no-image-icon.png",alt:"Image"}})],1),s("b-col",{staticClass:"d-flex flex-column justify-content-between",attrs:{md:"8"}},[s("b-card-body",{attrs:{title:t.name}},[s("b-card-text",[e._v(" "+e._s(t.description)+" ")])],1),s("b-card-footer",{staticClass:"bg-white d-flex justify-content-between align-items-center"},[s("small",[s("b-icon",{attrs:{icon:"geo-alt-fill","aria-hidden":"true"}}),e._v(" Paris")],1),s("div",[e._v(e._s(t.price)+"€ / jour")]),s("b-button",{attrs:{squared:"",variant:"outline-transparent"}},[e._v("Voir l'annonce")])],1)],1)],1)],1)],1),s("div",{staticClass:"d-flex flex-column"},[s("div",{staticClass:"p-2"},[s("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(s){return e.toValid(t)}}},[e._v("VALIDER")])]),s("div",{staticClass:"p-2"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(s){return e.toDelete(t)}}},[e._v("REFUSER")])])])],1)})),0)],1):s("div",{staticClass:"message-no-data shadow my-5"},[s("div",{staticClass:"text-center"},[e._v("Aucune annonce en attente de validation pour le moment")])])])},rt=[],at={name:"ProductsPage",created(){W.getProductsNotValid().then((e=>{this.$store.dispatch("products",e.data["hydra:member"])})).catch((e=>console.log(e)))},computed:{...(0,d.Se)(["numberOfProductsNotValid","products"])},mounted(){const e=this.$store.getters.adminPermission;e||this.$router.push("/")},methods:{toValid(e){W.updateProduct(e.id,{isValid:!0}).then((e=>{console.log(e.data),this.$store.commit("products",this.$store.getters.products.filter((t=>!(t.id===e.data.id)))),this.$store.dispatch("numberOfProductsNotValid",this.$store.getters.numberOfProductsNotValid-1)})).catch((e=>console.log(e))),console.log(e)},toDelete(e){W.deleteProduct(e.id).then((()=>{this.$store.commit("products",this.$store.getters.products.filter((t=>!(t.id===e.id)))),this.$store.dispatch("numberOfProductsNotValid",this.$store.getters.numberOfProductsNotValid-1)})).catch((e=>console.log(e))),console.log(e)}}},it=at,ot=(0,p.Z)(it,st,rt,!1,null,"2cd430b8",null),nt=ot.exports,lt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dqs main-frame"},[s("div",{staticClass:"main-content row mx-0 justify-content-between"},[s("div",{staticClass:"products-list col-md-8 offset-md-4"},[s("SearchBar")],1)]),s("div",{staticClass:"container m-0 p-0 mw-100"},[s("div",{staticClass:"row mt-5"},[s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"product-details"},[s("h2",[e._v(e._s(e.product.name))]),s("h2",{staticClass:"title-separator"},[e._v(" | ")]),s("h4",{staticClass:"product-details-note"},[e._v(e._s(e.product.note)+"/5 "),s("small",[e._v("(0 note)")])]),s("div",{staticClass:"block-notation-stars"},[s("button",{staticClass:"button-new-note",on:{click:function(t){e.showNote=!e.showNote}}},[e._v("Noter le produit")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showNote,expression:"showNote"}],staticClass:"sub-block-notation-stars"},[s("div",[s("span",{staticClass:"star-selection",on:{mouseover:function(t){e.currentNote=0}}},[e._v(" ")]),s("span",{staticClass:"star-selection",on:{mouseover:function(t){e.currentNote=0}}},[e._v(" ")]),s("span",{staticClass:"star-selection",on:{mouseover:function(t){e.currentNote=0}}},[e._v(" ")]),s("b-icon",{attrs:{icon:e.currentNote<.5?"star":e.currentNote>.5?"star-fill":"star-half","aria-hidden":"true"},on:{mouseover:function(t){e.currentNote=.5}}}),s("span",{staticClass:"star-selection",on:{mouseover:function(t){e.currentNote=1}}},[e._v(" ")]),s("b-icon",{attrs:{icon:e.currentNote<1.5?"star":e.currentNote>1.5?"star-fill":"star-half","aria-hidden":"true"},on:{mouseover:function(t){e.currentNote=1.5}}}),s("span",{staticClass:"star-selection",on:{mouseover:function(t){e.currentNote=2}}},[e._v(" ")]),s("b-icon",{attrs:{icon:e.currentNote<2.5?"star":e.currentNote>2.5?"star-fill":"star-half","aria-hidden":"true"},on:{mouseover:function(t){e.currentNote=2.5}}}),s("span",{staticClass:"star-selection",on:{mouseover:function(t){e.currentNote=3}}},[e._v(" ")]),s("b-icon",{attrs:{icon:e.currentNote<3.5?"star":e.currentNote>3.5?"star-fill":"star-half","aria-hidden":"true"},on:{mouseover:function(t){e.currentNote=3.5}}}),s("span",{staticClass:"star-selection",on:{mouseover:function(t){e.currentNote=4}}},[e._v(" ")]),s("b-icon",{attrs:{icon:e.currentNote<4.5?"star":e.currentNote>4.5?"star-fill":"star-half","aria-hidden":"true"},on:{mouseover:function(t){e.currentNote=4.5}}}),s("span",{staticClass:"star-selection",on:{mouseover:function(t){e.currentNote=5}}},[e._v(" ")]),s("span",{staticClass:"star-selection",on:{mouseover:function(t){e.currentNote=5}}},[e._v(" ")]),s("span",{staticClass:"star-selection",on:{mouseover:function(t){e.currentNote=5}}},[e._v(" ")])],1),s("div",{staticClass:"note-number"},[e._v(e._s(e.currentNote)+" / 5")]),s("button",{staticClass:"button-submit-note mt-3",on:{click:e.handleSubmitNote}},[e._v("NOTER")])])]),s("div",[e._v("Loué par "),s("strong",[s("router-link",{staticClass:"user-link",attrs:{to:"/user/"+this.product.user.id}},[e._v(e._s(e.product.user.lastName)+" "+e._s(e.product.user.firstName))])],1)]),s("div",[e._v("Annonce publiée le "+e._s(e.product.publishedAt))]),s("div",{staticClass:"row product-main-presentation"},[s("div",{staticClass:"col-md-6 product-image"},[s("img",{attrs:{src:0!==e.product.files.length?"https://localhost:8443/media"+e.product.files[0].path:"https://hearhear.org/wp-content/uploads/2019/09/no-image-icon.png",width:"100%"}})]),s("div",{staticClass:"col-md-6 product-description"},[s("h4",[e._v("Description")]),s("hr"),s("p",{class:e.buttonDescriptionToggle?"full":"partially"},[e._v(e._s(e.product.description))]),s("div",{staticClass:"toggle-button-line"},[s("button",{staticClass:"toggle-button",on:{click:function(t){e.buttonDescriptionToggle=!e.buttonDescriptionToggle}}},[e._v(e._s(e.buttonDescriptionToggle?"Masquer":"Voir plus"))])]),s("div",{staticClass:"product-price"},[e._v(e._s(e.product.price)+" €"),s("span",[e._v(" / jour")])])])])]),s("div",{staticClass:"localisation"},[s("h4",[e._v("Localisation du produit")]),s("hr"),s("GoogleMap",{attrs:{address:e.product.address}})],1),s("div",{staticClass:"comments"},[s("Comments",{attrs:{comments:e.product.comments}})],1)]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"calendar"},[s("CalendarAvailabilities",{attrs:{product:e.product}})],1),s("div",{staticClass:"contact-form"},[s("FormContact",{attrs:{product:e.product,user:e.product.user}})],1)])]),s("div",{staticClass:"row"},[s("div",{staticClass:"similar-ads"},[s("h4",[e._v("Annonces similaires")]),s("hr"),s("SimilarAds",{attrs:{subCategory:e.product.category}})],1)])])])},ct=[],dt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"searchbar-products"},[s("form",{attrs:{id:"searchInputForm",action:"https://vuejs.org/",method:"get"}},[s("b-form",{attrs:{inline:""}},[s("label",{attrs:{for:"inline-form-input"}},[e._v("Rechercher : ")]),s("b-form-input",{attrs:{id:"inline-form-input",name:"words"},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),s("b-button",{attrs:{type:"submit",variant:"transparent"}},[s("b-icon",{attrs:{icon:"search","aria-hidden":"true"}})],1)],1)],1)])},ut=[],mt={name:"CommonSearchBar",data(){return{searchInput:null}}},pt=mt,ht=(0,p.Z)(pt,dt,ut,!1,null,null,null),ft=ht.exports,vt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"comments-section"},[s("div",{staticClass:"comments-section-header"},[s("h4",[e._v("Commentaires et notes")]),s("div",{staticClass:"button-new-comment",on:{click:function(t){e.formIsVisible=!e.formIsVisible}}},[s("b-icon",{attrs:{icon:"chat-left-text-fill","aria-hidden":"true"}}),e._v(e._s(e.formIsVisible?"Masquer le formulaire":"Ecrire un commentaire"))],1)]),s("hr"),s("transition",{attrs:{name:"fade"}},[e.formIsVisible?s("div",{staticClass:"form-new-comment d-flex"},[s("b-textarea",{model:{value:e.inputComment,callback:function(t){e.inputComment=t},expression:"inputComment"}}),s("div",{staticClass:"button-new-comment-validate",on:{click:e.validateComment}},[e._v("Valider")])],1):e._e()]),s("div",{staticClass:"comments-list"},[e.commentsLocal.length<1?s("div",[s("p",[e._v("Il n'y a aucun commentaire")])]):e._e(),e._l(e.commentsLocal,(function(t){return s("div",{key:t.id,staticClass:"comment-item"},[s("div",{staticClass:"comment-top"},[s("div",[s("strong",{class:t.user==this.$store.getters.user?"personal-comment":""},[e._v(e._s(t.user.firstName)+" "+e._s(t.user.lastName))]),e._v(" - "+e._s(t.createdAt))]),s("div",{staticClass:"comment-rating"},[e._v(e._s(t.rating?t.rating:"-")+"/5")])]),s("div",{staticClass:"comment-text"},[e._v(e._s(t.text))])])}))],2)],1)},gt=[];L().defaults.baseURL="https://localhost:8443/";const bt={"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},Ct=async e=>(L().defaults.baseURL="https://localhost:8443/",await L().post("comments",e,{headers:bt})),yt=async e=>(L().defaults.baseURL="https://localhost:8443/",await L().get(`comments/${e}`,{headers:bt})),_t=async(e,t)=>(L().defaults.baseURL="https://localhost:8443/",await L().patch(`comments/${t}`,e,{headers:bt}));var xt={postComment:Ct,getComments:yt,updateComment:_t},wt={name:"Comments",props:{comments:Array},data(){return{newComment:"",formIsVisible:!1,inputComment:"",commentsLocal:[]}},mounted(){this.commentsLocal=this.comments},methods:{validateComment(){let e=xt.postComment({user:parseInt(this.user.id),text:this.text,product:parseInt(this.product.id)});this.commentsLocal.unshift(e)}}},kt=wt,Lt=(0,p.Z)(kt,vt,gt,!1,null,"5bebc018",null),Pt=Lt.exports,It=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main-offers"},[s("b-container",[s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("carousel",{attrs:{perPage:4}},e._l(e.posts,(function(t){return s("slide",{key:t.id,staticClass:"p-2"},[s("router-link",{staticClass:"card-link",attrs:{to:"/products/"+t.id}},[s("b-card",{attrs:{"img-src":t.files,"img-alt":"Image","img-top":"",tag:"article"},scopedSlots:e._u([{key:"footer",fn:function(){return[s("small",{staticClass:"text-muted"},[e._v(e._s(t.price)+"€ / jour")])]},proxy:!0}],null,!0)},[s("b-card-text",[e._v(" "+e._s(t.description)+" ")])],1)],1)],1)})),1)],1)],1)],1)],1)},Et=[],At=s(7409),St={components:{Carousel:At.Carousel,Slide:At.Slide},name:"SimilarAds",props:{subCategory:Object},data(){return{posts:[]}},mounted(){this.posts=[{id:1,region:"Ain",name:"nom du produit test",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:24,note:"3",files:"https://picsum.photos/300/300",category:{id:1,name:"sub item 222",parent:"Bricolage"}},{id:2,region:"test1",name:"nom du produit",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:28,note:"4",files:"https://picsum.photos/500/300",category:{id:1,name:"Perceuse",parent:"Bricolage"}},{id:3,region:"test2",name:"nom du produittest",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:54,note:"5",files:"https://picsum.photos/300/300",category:{id:1,name:"sub item 222",parent:"Bricolage"}},{id:4,region:"test3",name:" test fou",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:39,note:"1",files:"https://picsum.photos/300/300",category:{id:1,name:"sub item 222",parent:"Bricolage"}},{id:5,region:"Ain",name:"nom du produit",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:33,note:"2",files:"https://picsum.photos/300/300",category:{id:1,name:"Perceuse",parent:"Bricolage"}},{id:6,region:"Ain",name:"nom du produit",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:33,note:"3",files:"https://picsum.photos/300/300",category:{id:1,name:"Perceuse",parent:"Bricolage"}},{id:7,region:"Ain",name:"nom du produit",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:87,note:"3",files:"https://picsum.photos/300/300",category:{id:1,name:"Perceuse",parent:"Bricolage"}},{id:8,region:"Ain",name:"nom du produit",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:115,note:"2",files:"https://picsum.photos/300/300",category:{id:1,name:"sub item 222",parent:"Bricolage"}},{id:9,region:"Ain",name:"nom du produit",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:45,note:"3",files:"https://picsum.photos/300/300",category:{id:1,name:"Perceuse",parent:"Bricolage"}},{id:10,region:"Ain",name:"nom du produit",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:14,note:"1",files:"https://picsum.photos/300/300",category:{id:1,name:"Perceuse",parent:"Bricolage"}}]}},Nt=St,Rt=(0,p.Z)(Nt,It,Et,!1,null,"1c76391a",null),Mt=Rt.exports,Tt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"frame-form-contact-user"},[s("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.validate;return[s("form",{staticClass:"form-contact-user",on:{submit:function(t){t.preventDefault(),r().then(e.handleSubmit)}}},[s("h4",{staticClass:"title-form"},[e._v("Demande d'informations")]),s("div",[e._v(" Message pour "),s("strong",[e._v(e._s(e.user.firstName)+" "+e._s(e.user.lastName))])]),s("ValidationProvider",{attrs:{rules:"required|minmax:1,1000"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],staticClass:"input-message",class:"is-"+a,attrs:{type:"text",placeholder:"Bonjour,"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)}),s("button",{staticClass:"submit-button"},[e._v("ENVOYER LE MESSAGE")])],1)]}}])})],1)},qt=[];L().defaults.baseURL="https://localhost:8445/";const $t={"Content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},Vt=async e=>await L().post("https://localhost:8445/messages",e,{headers:$t}),Bt=async e=>await L().get(`https://localhost:8445/conversations/${e}`,{headers:$t});var Ft={postMessage:Vt,getConversations:Bt};(0,be.l7)("minmax",{validate(e,{min:t,max:s}){return e.length>=t&&e.length<=s},message:"Le message doit contenir au maximum {max} caractères",params:["min","max"]}),(0,be.l7)("required",{...Ce.C1,message:"Ce champs est obligatoire"});var Dt={name:"FormContact",components:{ValidationProvider:be.d_,ValidationObserver:be._j},props:{product:Object,user:Object},data:()=>({text:""}),methods:{handleSubmit:function(){Ft.postMessage({senderId:parseInt(this.user.id),recieverId:parseInt(this.$store.getters.user["@id"].split("/")[2]),text:this.text,productId:parseInt(this.product.id)})}}},jt=Dt,Ot=(0,p.Z)(jt,Tt,qt,!1,null,"32d1f6de",null),Ut=Ot.exports,Ht=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"frame-calendar"},[s("div",[this.loading?s("circle-spin",{attrs:{loading:!0}}):e._e()],1),s("form",{staticClass:"form-calendar",attrs:{action:"#",method:"post"}},[s("h4",{staticClass:"title-form"},[e._v("Reservation")]),s("div",{staticClass:"mb-4 mt-3"},[s("HotelDatePicker",{attrs:{showSingleMonth:e.showSingleMonth,disabledDates:e.disabledDates,halfDay:e.halfDay,minNights:e.minNights,hoveringTooltip:e.hoveringTooltip},on:{"period-selected":e.dateSelected,"clear-selection":e.clearDates}})],1),s("div",{staticClass:"date-picker-price mb-2"},[e._v("Total : "+e._s(e.totalPrice)+"€ + caution "+e._s(e.product.caution)+"€ ")]),s("div",[s("stripe-checkout",{ref:"checkoutRef",attrs:{pk:e.publishableKey,"session-id":e.sessionId}}),s("div",{staticClass:"submit-button",on:{click:e.submit}},[e._v("LOUER")])],1)])])},Gt=[],Zt=s(2051),zt=s.n(Zt),Wt=s(1804),Kt={name:"CalendarAvailabilities",props:{product:Object},components:{HotelDatePicker:zt(),StripeCheckout:Wt.ki},data(){return this.publishableKey="pk_test_51ImJIiH1ST2SneRlcZYRNGSWv9DE5C9SeBkRtEjIcL72hRXM15rrWuViXIn7TibG2SJgjDHyrCWxcqUljDNm2wPn002HVq6LJB",{loading:!1,sessionId:"",paymentIntent:"",disabledDates:[],halfDay:!1,minNights:0,hoveringTooltip:!1,startingDate:"",endingDate:"",showSingleMonth:!0,totalPrice:0,productLocal:this.product,isLoading:!1}},methods:{pad(e){return e<10?"0"+e:e},convertDate(e){return[e.getFullYear(),this.pad(e.getMonth()+1),this.pad(e.getDate())].join("-")},priceCalcul(e,t){const s=new Date(e),r=new Date(t),a=Math.abs(r-s),i=Math.ceil(a/864e5)+1;this.totalPrice=i*this.product.price,this.isLoading=!0,console.log(this.isLoading),W.getSessionIdPayment({...this.product,price:this.totalPrice+this.product.caution},this.$store.getters.user).then((e=>{this.sessionId=e.data.checkout_session.id,this.paymentIntent=e.data.checkout_session.payment_intent})).catch((e=>console.log(e))).finally((()=>this.isLoading=!1))},dateSelected(e,t,s){this.startingDate=this.convertDate(t),this.endingDate=this.convertDate(s);let r=document.getElementsByClassName("vhd__datepicker__input"),a=t,i=s;r[0].innerHTML=[this.pad(a.getDate()),this.pad(a.getMonth()+1),a.getFullYear()].join("-"),r[1].innerHTML=[this.pad(i.getDate()),this.pad(i.getMonth()+1),i.getFullYear()].join("-"),this.priceCalcul(this.startingDate,this.endingDate)},clearDates(){this.startingDate="",this.endingDate="";let e=document.getElementsByClassName("vhd__datepicker__input");e[0].innerHTML="Début",e[1].innerHTML="Fin"},submit(){W.postReservation({price:parseInt(this.totalPrice),rentalBeginDate:this.startingDate,rentalEndDate:this.endingDate,createdAt:new Date,state:"payed",product:"/products/"+this.product.id,user:"/users/"+this.$store.getters.user.id,paymentIntent:this.paymentIntent}),this.$refs.checkoutRef.redirectToCheckout()}},mounted(){const e=this.$store.getters.userPermission;e||this.$router.push("/");let t=document.getElementsByClassName("vhd__datepicker__input");t[0].innerHTML="Début",t[1].innerHTML="Fin";let s=this.product.reservations;s.forEach((e=>{let t=new Date(e.rentalBeginDate),s=new Date(e.rentalEndDate);for(t;t<=s;t.setDate(t.getDate()+1))this.disabledDates.push(this.convertDate(new Date(t)))}))}},Jt=Kt,Yt=(0,p.Z)(Jt,Ht,Gt,!1,null,null,null),Xt=Yt.exports,Qt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("gmap-map",{staticStyle:{width:"60%",height:"300px","min-width":"300px"},attrs:{zoom:10,center:e.center}},e._l(e.locationMarkers,(function(t,r){return s("gmap-marker",{key:r,attrs:{position:t.position},on:{click:function(s){e.center=t.position}}})})),1)],1)},es=[],ts={name:"GoogleMap",props:{address:String},data(){return{center:{lat:0,lng:0},locationMarkers:[],existingPlace:null,productAddress:""}},methods:{addLocationMarker(){if(this.existingPlace){const e={lat:this.existingPlace.geometry.location.lat(),lng:this.existingPlace.geometry.location.lng()};this.locationMarkers.push({position:e}),this.locPlaces.push(this.existingPlace),this.center=e,this.existingPlace=null}},async callGeocode(){let e=encodeURI(this.productAddress),t=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${e}&key=${this.$apiKey}`);return t.json()}},async mounted(){this.productAddress=this.address;let e=await this.callGeocode();if("OK"==e.status){let t=e.results[0].geometry.location.lat,s=e.results[0].geometry.location.lng,r={lat:t,lng:s};this.center=r,this.locationMarkers.push({position:{lat:t,lng:s}})}}},ss=ts,rs=(0,p.Z)(ss,Qt,es,!1,null,null,null),as=rs.exports,is={components:{SearchBar:ft,Comments:Pt,SimilarAds:Mt,FormContact:Ut,CalendarAvailabilities:Xt,GoogleMap:as},name:"Product",data(){return{buttonDescriptionToggle:!1,currentNote:0,showNote:!1}},created(){W.getProduct(this.$route.params.productId).then((e=>{this.$store.dispatch("product",e.data),console.log(e.data)})).catch((e=>console.log(e)))},computed:{...(0,d.Se)(["product","user"])},methods:{handleSubmitNote(){if(this.$store.getters.user){let e=this.product.comments.filter((e=>e.user==this.$store.getters.user));e?xt.updateComment({rating:this.currentNote},e.id):xt.postComment({text:null,rating:this.currentNote,user:this.$store.getters.user,product:this.product})}}}},os=is,ns=(0,p.Z)(os,lt,ct,!1,null,"4c0feae0",null),ls=ns.exports,cs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dqs main-frame"},[s("div",{staticClass:"container m-0 p-0 mw-100"},[s("div",{staticClass:"row mt-5"},[s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"user-details"},[s("h2",[e._v(e._s(e.user.firstName)+" "+e._s(e.user.lastName))]),s("h2",{staticClass:"title-separator"},[e._v(" | ")]),s("h4",{staticClass:"user-details-note"},[e._v(e._s(e.user.note)+"/5 "),s("small",[e._v(" (0 note)")])]),s("div",[e._v("Habite à "),s("strong",[e._v(e._s(e.addressCity)+" ("+e._s(e.addressRegion)+")")])]),s("div",{staticClass:"row user-products"},[s("div",{staticClass:"col-md-12"},[s("h4",[e._v("Annonces de ce loueur "),s("small",[e._v(" ("+e._s(e.products.length)+")")])]),s("hr"),e.paginatedProducts.length>0?s("div",{},[s("b-card-group",{staticClass:"card-deck-custom-grid",attrs:{deck:""}},e._l(e.paginatedProducts,(function(t){return s("router-link",{key:t.id,attrs:{to:"/products/"+t.id,"per-page":e.perPage,"current-page":e.currentPage}},[s("b-card",{staticClass:"product-card",attrs:{"img-src":t.files,"img-alt":"Image","img-top":""},scopedSlots:e._u([{key:"footer",fn:function(){return[s("small",{staticClass:"text-muted"},[e._v(e._s(t.price)+"€ / jour")])]},proxy:!0}],null,!0)},[s("b-card-text",{staticClass:"product-card-text"},[e._v(e._s(t.name))])],1)],1)})),1),s("b-pagination",{attrs:{pills:"","total-rows":e.nbResults,"per-page":e.perPage,"first-number":"","last-number":"",align:"center",limit:"8"},on:{change:e.onPageChanged},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):s("div",[s("p",[e._v("Aucune annonce trouvée")])])])])])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"contact-form"},[s("FormContact",{attrs:{user:e.user}})],1)])])])])},ds=[],us={components:{FormContact:Ut},name:"Product",data(){return{user:{},perPage:8,currentPage:1,paginatedProducts:[],nbResults:0,products:[],addressCity:"",addressRegion:""}},mounted(){let e=this.$route.params.userId;if(e){this.addressCity="paris".charAt(0).toUpperCase()+"paris".slice(1),this.addressRegion="75";let e={id:2,firstName:"julien",lastName:"Etienne",address:"avenue des champs elysées///&///&///&///&, paris///&///&///&, 75",note:"1.6",products:[{id:1,region:"Ain",name:"nom du produit test",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:24,note:"3",files:"https://picsum.photos/300/300",category:{id:1,name:"sub item 222",parent:"Bricolage"}},{id:2,region:"test1",name:"nom du produit",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:28,note:"4",files:"https://picsum.photos/500/300",category:{id:1,name:"Perceuse",parent:"Bricolage"}},{id:3,region:"test2",name:"nom du produittest",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:54,note:"5",files:"https://picsum.photos/300/300",category:{id:1,name:"sub item 222",parent:"Bricolage"}},{id:4,region:"test3",name:" test fou",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:39,note:"1",files:"https://picsum.photos/300/300",category:{id:1,name:"sub item 222",parent:"Bricolage"}},{id:5,region:"Ain",name:"nom du produit",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:33,note:"2",files:"https://picsum.photos/300/300",category:{id:1,name:"Perceuse",parent:"Bricolage"}},{id:21,region:"Ain",name:"nom du test",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:45,note:"2",files:"https://picsum.photos/300/300",category:{id:1,name:"Perceuse",parent:"Bricolage"}},{id:22,region:"Ain",name:"nom du produit",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:63,note:"2",files:"https://picsum.photos/300/300",category:{id:1,name:"Perceuse",parent:"Bricolage"}},{id:23,region:"Ain",name:"nom du produit",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:85,note:"4",files:"https://picsum.photos/300/300",category:{id:1,name:"Perceuse",parent:"Bricolage"}},{id:24,region:"Ain",name:"nom du produit",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:145,note:"3",files:"https://picsum.photos/300/300",category:{id:1,name:"sub item 222",parent:"Bricolage"}},{id:25,region:"Ain",name:"nom du produit",description:'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.',address:"adresse du loueur",price:10,note:"3",files:"https://picsum.photos/300/300",category:{id:1,name:"Perceuse",parent:"Bricolage"}}],comments:[{id:1,text:"blobloblo",createdAt:"01/01/2022",rating:"2.8",user:{id:24,firstName:"emile",lastName:"Roux"}},{id:2,text:"bliblibli",createdAt:"05/01/2022",rating:"3.7",user:{id:21,firstName:"stephane",lastName:"Martin"}},{id:3,text:"blablabla",createdAt:"02/01/2022",rating:"1",user:{id:37,firstName:"amelie",lastName:"Audart"}}]};this.user=e,this.products=e.products,this.nbResults=this.user.products.length,this.paginate(this.perPage,0)}},methods:{paginate(e,t){let s=this.products;this.paginatedProducts=s.slice(t*e,(t+1)*e)},onPageChanged(e){this.paginate(this.perPage,e-1),window.scrollTo(0,0)}}},ms=us,ps=(0,p.Z)(ms,cs,ds,!1,null,"08465d51",null),hs=ps.exports,fs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dqs"},[s("Banner"),s("div",{staticClass:"main-content"},[s("div",{staticClass:"main-categories"},[s("h1",[e._v("LES GRANDES CATEGORIES")]),s("hr"),s("ul",e._l(e.categories,(function(t){return s("li",{key:t.id},[s("router-link",{attrs:{to:"/search?category="+t.name}},[s("img",{staticClass:"icon-category",attrs:{src:t.img,alt:""}}),s("p",[e._v(e._s(t.name))])])],1)})),0)]),s("div",{staticClass:"best-offers"},[s("h1",[e._v("LES MEILLEURES OFFRES DU MOMENT")]),s("hr"),s("div",{staticClass:"main-offers"},[s("b-container",[s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("carousel",{attrs:{perPage:4}},e._l(e.posts,(function(t){return s("slide",{key:t.id,staticClass:"p-2"},[s("router-link",{staticClass:"card-link",attrs:{to:"/products/"+t.id}},[s("b-card",{attrs:{"img-src":t.files,"img-alt":"Image","img-top":"",tag:"article"},scopedSlots:e._u([{key:"footer",fn:function(){return[s("small",{staticClass:"text-muted"},[e._v(e._s(t.price)+"€ / jour")])]},proxy:!0}],null,!0)},[s("b-card-text",[e._v(" "+e._s(t.name)+" ")])],1)],1)],1)})),1)],1)],1)],1)],1)])])],1)},vs=[],gs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"banner"}},[e.user?s("div",{staticClass:"welcome-message"},[e._v("Bonjour "+e._s(e.user.firstName)+" "+e._s(e.user.lastName)+" !")]):e._e(),e._m(0),s("div",{staticClass:"searchForm"},[s("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.validate;return[s("form",{on:{submit:function(t){t.preventDefault(),r().then(e.handleSubmit)}}},[s("ValidationProvider",{attrs:{rules:"max:50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchInput,expression:"searchInput"}],class:"is-"+a,attrs:{type:"text",placeholder:"Rechercher un produit ..."},domProps:{value:e.searchInput},on:{input:function(t){t.target.composing||(e.searchInput=t.target.value)}}}),s("span",[s("button",{staticClass:"btn btn-dark",attrs:{type:"submit"}},[e._v("Rechercher")])]),s("div",{staticClass:"form-error-banner"},[e._v(e._s(r[0]))])]}}],null,!0)})],1)]}}])})],1)])},bs=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"banner-text-box"},[s("p",{staticClass:"banner-text banner-text-big"},[e._v(" LOCATION DE PARTICULIER À PARTICULIER ")]),s("p",{staticClass:"banner-text banner-text-small"},[e._v(" Trouver le matériel qu'il vous faut au plus proche de chez vous ")])])}];(0,be.l7)("max",{validate(e,{max:t}){return e.length<=t},message:"Ce champs doit contenir au maximum {max} caractères",params:["max"]});var Cs={name:"Banner",components:{ValidationProvider:be.d_,ValidationObserver:be._j},data:()=>({searchInput:"",user:null}),methods:{handleSubmit:function(){this.$router.push("/search?words="+this.searchInput)}},watch:{"$route.query":{immediate:!0,handler(){this.$store.getters.user?this.user={firstName:this.$store.getters.user.firstName,lastName:this.$store.getters.user.lastName}:this.user=null}}}},ys=Cs,_s=(0,p.Z)(ys,gs,bs,!1,null,"4a8ed4e4",null),xs=_s.exports,ws={components:{Banner:xs,Carousel:At.Carousel,Slide:At.Slide},name:"Home",data:()=>({slide:0,sliding:null,categories:[],posts:[{id:1,name:"chelsea is the best club in the world and chelsea has a great player",description:"chelsea is the best club in the world and chelsea has a great player",price:30,files:"https://picsum.photos/300/200/?image=41"},{id:2,name:"chelsea is the best club in the world and chelsea has a great player chelsea is the best club in the world and chelsea has a great player chelsea is the best club in the world and chelsea has a great player chelsea is the best club in the world and chelsea has a great player, chelsea is the best club in the world and chelsea has a great player chelsea is the best club in the world and chelsea has a great player",description:"chelsea is the best club in the worldchelsea is the best chelsea is the best club in the world  chelsea is the best club in the world  chelsea is the best club in the world  chelsea is the best club in the world  chelsea is the best club in the world  chelsea is the best club in the world  chelsea is the best club in the world  chelsea is the best club in the world  chelsea is the best club in the world club in the world chelsea is the best club in the world  chelsea is the best club in the world  and chelsea has a great player",price:60,files:"https://picsum.photos/300/200/?image=41"},{id:3,name:"chelsea is the best club in the world and chelsea has a great player",description:"chelsea is the best club in the world and chelsea has a great player",price:54,files:"https://picsum.photos/300/400/?image=41"},{id:4,name:"chelsea is the best club in the world and chelsea has a great player",description:"chelsea is the best club in the world and chelsea has a great player",price:25,files:"https://picsum.photos/500/200/?image=41"},{id:5,name:"chelsea is the best club in the world and chelsea has a great player",description:"chelsea is the best club in the world and chelsea has a great player",price:31,files:"https://picsum.photos/300/200/?image=41"},{id:6,name:"chelsea is the best club in the world and chelsea has a great player",description:"chelsea is the best club in the world and chelsea has a great player",price:40,files:"https://picsum.photos/300/200/?image=41"},{id:7,name:"chelsea is the best club in the world and chelsea has a great player",description:"chelsea is the best club in the world and chelsea has a great player",price:54,files:"https://picsum.photos/300/200/?image=41"},{id:8,name:"chelsea is the best club in the world and chelsea has a great player",description:"chelsea is the best club in the world and chelsea has a great player",price:55,files:"https://picsum.photos/300/200/?image=41"},{id:9,name:"chelsea is the best club in the world and chelsea has a great player",description:"chelsea is the best club in the world and chelsea has a great player",price:81,files:"https://picsum.photos/300/200/?image=41"},{id:10,name:"chelsea is the best club in the world and chelsea has a great player",description:"chelsea is the best club in the world and chelsea has a great player",price:28,files:"https://picsum.photos/300/200/?image=41"}]}),mounted(){W.getCategories().then((e=>{this.categories=e.data["hydra:member"]})).catch((e=>console.log(e)))},methods:{onSlideStart(){this.sliding=!0},onSlideEnd(){this.sliding=!1}}},ks=ws,Ls=(0,p.Z)(ks,fs,vs,!1,null,null,null),Ps=Ls.exports,Is=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dqs main-frame"},[s("div",{staticClass:"main-content row mx-0 justify-content-between"},[s("div",{staticClass:"filters-box col-md-3"},[s("h2",[e._v("Filtres")]),s("hr",{staticClass:"main-hr"}),s("div",{staticClass:"filters-categories"},[s("b-list-group",[s("b-list-group-item",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"d-flex justify-content-between align-items-center",on:{click:function(t){e.filter1Visible=!e.filter1Visible}}},[e._v(" Catégorie de produit "),e.filter1Visible?s("b-icon",{attrs:{icon:"chevron-down","aria-hidden":"true"}}):s("b-icon",{attrs:{icon:"chevron-right","aria-hidden":"true"}})],1),s("b-collapse",{attrs:{id:"collapse-1"}},[s("ul",e._l(e.categories,(function(t,r){return s("li",{key:t.id},[s("input",{attrs:{type:"checkbox",id:"category"+(r+1)},domProps:{value:t.name},on:{change:function(s){return e.selectedAllSubCategories(t)}}}),e._v(" "+e._s(t.name)+" (tous) "),s("ul",{},e._l(t.children,(function(t,r){return s("li",{key:t.id},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected.categories,expression:"selected.categories"}],attrs:{type:"checkbox",id:"subCategory"+(r+1)},domProps:{value:t.name,checked:Array.isArray(e.selected.categories)?e._i(e.selected.categories,t.name)>-1:e.selected.categories},on:{change:function(s){var r=e.selected.categories,a=s.target,i=!!a.checked;if(Array.isArray(r)){var o=t.name,n=e._i(r,o);a.checked?n<0&&e.$set(e.selected,"categories",r.concat([o])):n>-1&&e.$set(e.selected,"categories",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.selected,"categories",i)}}}),e._v(" "+e._s(t.name)+" ")])})),0)])})),0)]),s("b-list-group-item",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-2",modifiers:{"collapse-2":!0}}],staticClass:"d-flex justify-content-between align-items-center",on:{click:function(t){e.filter2Visible=!e.filter2Visible}}},[e._v(" Prix "),e.filter2Visible?s("b-icon",{attrs:{icon:"chevron-down","aria-hidden":"true"}}):s("b-icon",{attrs:{icon:"chevron-right","aria-hidden":"true"}})],1),s("b-collapse",{attrs:{id:"collapse-2"}},[s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{lg:"6"}},[s("label",{attrs:{for:"input-none"}},[e._v("Min:")]),s("b-form-input",{attrs:{type:"number"},model:{value:e.minPrice,callback:function(t){e.minPrice=t},expression:"minPrice"}})],1),s("b-col",{attrs:{lg:"6"}},[s("label",{attrs:{for:"input-none"}},[e._v("Max:")]),s("b-form-input",{attrs:{type:"number"},model:{value:e.maxPrice,callback:function(t){e.maxPrice=t},expression:"maxPrice"}})],1)],1)],1),s("b-list-group-item",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-3",modifiers:{"collapse-3":!0}}],staticClass:"d-flex justify-content-between align-items-center",on:{click:function(t){e.filter3Visible=!e.filter3Visible}}},[e._v(" Localisation "),e.filter3Visible?s("b-icon",{attrs:{icon:"chevron-down","aria-hidden":"true"}}):s("b-icon",{attrs:{icon:"chevron-right","aria-hidden":"true"}})],1),s("b-collapse",{attrs:{id:"collapse-3"}},[s("ul",e._l(e.regions,(function(t,r){return s("li",{key:t.id},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected.locations,expression:"selected.locations"}],attrs:{type:"checkbox",id:"region"+(r+1)},domProps:{value:t.name,checked:Array.isArray(e.selected.locations)?e._i(e.selected.locations,t.name)>-1:e.selected.locations},on:{change:function(s){var r=e.selected.locations,a=s.target,i=!!a.checked;if(Array.isArray(r)){var o=t.name,n=e._i(r,o);a.checked?n<0&&e.$set(e.selected,"locations",r.concat([o])):n>-1&&e.$set(e.selected,"locations",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.selected,"locations",i)}}}),e._v(" "+e._s(t.name)+" ("+e._s(t.number)+") ")])})),0)]),s("b-list-group-item",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-4",modifiers:{"collapse-4":!0}}],staticClass:"d-flex justify-content-between align-items-center",on:{click:function(t){e.filter4Visible=!e.filter4Visible}}},[e._v(" Notes "),e.filter4Visible?s("b-icon",{attrs:{icon:"chevron-down","aria-hidden":"true"}}):s("b-icon",{attrs:{icon:"chevron-right","aria-hidden":"true"}})],1),s("b-collapse",{attrs:{id:"collapse-4"}},[s("div",{staticClass:"collapse-notes"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected.notes,expression:"selected.notes"}],attrs:{type:"radio",value:"4plus",id:"4plus"},domProps:{checked:e._q(e.selected.notes,"4plus")},on:{change:function(t){return e.$set(e.selected,"notes","4plus")}}}),s("b-icon",{attrs:{icon:"star-fill","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star-fill","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star-fill","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star-fill","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star","aria-hidden":"true"}}),s("span",[e._v("4 étoiles ou plus")])],1),s("div",{staticClass:"collapse-notes"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected.notes,expression:"selected.notes"}],attrs:{type:"radio",value:"3plus",id:"3plus"},domProps:{checked:e._q(e.selected.notes,"3plus")},on:{change:function(t){return e.$set(e.selected,"notes","3plus")}}}),s("b-icon",{attrs:{icon:"star-fill","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star-fill","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star-fill","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star","aria-hidden":"true"}}),s("span",[e._v("3 étoiles ou plus")])],1),s("div",{staticClass:"collapse-notes"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected.notes,expression:"selected.notes"}],attrs:{type:"radio",value:"2plus",id:"2plus"},domProps:{checked:e._q(e.selected.notes,"2plus")},on:{change:function(t){return e.$set(e.selected,"notes","2plus")}}}),s("b-icon",{attrs:{icon:"star-fill","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star-fill","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star","aria-hidden":"true"}}),s("span",[e._v("2 étoiles ou plus")])],1),s("div",{staticClass:"collapse-notes"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected.notes,expression:"selected.notes"}],attrs:{type:"radio",value:"1plus",id:"1plus"},domProps:{checked:e._q(e.selected.notes,"1plus")},on:{change:function(t){return e.$set(e.selected,"notes","1plus")}}}),s("b-icon",{attrs:{icon:"star-fill","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star","aria-hidden":"true"}}),s("b-icon",{attrs:{icon:"star","aria-hidden":"true"}}),s("span",[e._v("1 étoile ou plus")])],1),s("div",{staticClass:"collapse-notes"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selected.notes,expression:"selected.notes"}],attrs:{type:"radio",value:"0plus",id:"0plus"},domProps:{checked:e._q(e.selected.notes,"0plus")},on:{change:function(t){return e.$set(e.selected,"notes","0plus")}}}),s("span",[e._v("toutes les notes")])])])],1)],1)]),s("div",{staticClass:"col-md-1"}),s("div",{staticClass:"products-list col-md-8"},[s("SearchBar"),s("div",{staticClass:"orderby-box row"},[""!=e.paramWords?s("div",[s("h2",[e._v(e._s(e.nbResults)+" résultat"+e._s(e.nbResults>1?"s ":"")+' pour "'+e._s(e.paramWords)+'"')])]):""!=e.paramCategory?s("div",[s("h2",[e._v("Catégorie "+e._s(e.paramCategory))]),e.nbResults>0?s("div",[s("span",[e._v(e._s(e.nbResults)+" résultat"+e._s(e.nbResults>1?"s ":""))])]):s("div",[s("span",[e._v("Aucun résultat trouvé")])])]):s("div",[s("h2",[e._v(e._s(e.nbResults)+" annonce"+e._s(e.nbResults>1?"s ":"")+" disponible"+e._s(e.nbResults>1?"s ":""))])]),s("div",{staticClass:"orderby-element"},[s("p",[e._v("Trié par : ")]),s("b-form-select",{attrs:{options:e.options,size:"sm"},model:{value:e.selected.orderBy,callback:function(t){e.$set(e.selected,"orderBy",t)},expression:"selected.orderBy"}}),s("b-button",{attrs:{variant:"light"},on:{click:function(t){e.deckGrid=!0}}},[s("b-icon",{attrs:{icon:"grid-fill","aria-hidden":"true"}})],1),s("b-button",{attrs:{variant:"light"},on:{click:function(t){e.deckGrid=!1}}},[s("b-icon",{attrs:{icon:"list-ul","aria-hidden":"true"}})],1)],1)]),s("b-card-group",{class:[e.deckGrid?"card-deck-custom-grid":"card-deck-custom-list"],attrs:{deck:""}},e._l(e.sortedBy,(function(t){return s("router-link",{key:t.id,attrs:{to:"/products/"+t.id,"per-page":e.perPage,"current-page":e.currentPage}},[e.deckGrid?s("b-card",{staticClass:"product-card",attrs:{"img-alt":"Image","img-src":0!==t.files.length?"https://localhost:8443/media"+t.files.path:"https://hearhear.org/wp-content/uploads/2019/09/no-image-icon.png","img-top":""},scopedSlots:e._u([{key:"footer",fn:function(){return[s("small",{staticClass:"text-muted"},[e._v(e._s(t.price)+"€ / jour")])]},proxy:!0}],null,!0)},[s("b-card-text",{staticClass:"product-card-text"},[e._v(e._s(t.name))])],1):s("b-card",{staticClass:"overflow-hidden",attrs:{"no-body":""}},[s("b-row",{staticClass:"h-100",attrs:{"no-gutters":""}},[s("b-col",{attrs:{md:"4"}},[s("b-card-img",{staticClass:"rounded-0",attrs:{src:0!==t.files.length?"https://localhost:8443/media"+t.files.path:"https://hearhear.org/wp-content/uploads/2019/09/no-image-icon.png",alt:"Image"}})],1),s("b-col",{staticClass:"d-flex flex-column justify-content-between",attrs:{md:"8"}},[s("b-card-body",{attrs:{title:t.name}},[s("b-card-text",[e._v(" "+e._s(t.description)+" ")])],1),s("b-card-footer",{staticClass:"bg-white d-flex justify-content-between align-items-center"},[s("small",[s("b-icon",{attrs:{icon:"geo-alt-fill","aria-hidden":"true"}}),e._v(" Paris")],1),s("div",[e._v(e._s(t.price)+"€ / jour")]),s("b-button",{attrs:{squared:"",variant:"outline-transparent"}},[e._v("Voir l'annonce")])],1)],1)],1)],1)],1)})),1),s("b-pagination",{attrs:{pills:"","total-rows":e.nbResults,"per-page":e.perPage,"first-number":"","last-number":"",align:"center",limit:"8"},on:{change:e.onPageChanged},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])},Es=[],As={components:{SearchBar:ft},name:"Home",data(){return{paramCategory:"",paramWords:"",searchInput:null,nbResults:0,filter1Visible:!1,filter2Visible:!1,filter3Visible:!1,filter4Visible:!1,deckGrid:!0,selected:{categories:[],locations:[],orderBy:null,notes:"0plus"},options:[{value:null,text:""},{value:"noteUp",text:"note croissante"},{value:"noteDown",text:"note décroissante"},{value:"priceUp",text:"prix croissant"},{value:"priceDown",text:"prix décroissant"}],paginatedProducts:[],regions:[{id:1,number:"01",name:"Ain"},{id:2,number:"02",name:"test1"},{id:3,number:"03",name:"test2"},{id:4,number:"04",name:"test3"},{id:5,number:"05",name:"Ain"},{id:6,number:"06",name:"Ain"},{id:7,number:"07",name:"Ain"},{id:8,number:"08",name:"Ain"},{id:9,number:"09",name:"Ain"},{id:10,number:"10",name:"Ain"},{id:11,number:"11",name:"Ain"},{id:12,number:"12",name:"Ain"},{id:13,number:"13",name:"Ain"},{id:14,number:"14",name:"Ain"},{id:15,number:"15",name:"Ain"},{id:16,number:"16",name:"Ain"},{id:17,number:"17",name:"Ain"},{id:18,number:"18",name:"Ain"},{id:19,number:"19",name:"Ain"},{id:20,number:"20",name:"Ain"},{id:21,number:"21",name:"Ain"},{id:22,number:"22",name:"Ain"},{id:23,number:"23",name:"Ain"},{id:24,number:"24",name:"Ain"},{id:25,number:"25",name:"Ain"},{id:26,number:"26",name:"Ain"},{id:27,number:"27",name:"Ain"},{id:28,number:"28",name:"Ain"},{id:29,number:"29",name:"Ain"},{id:30,number:"30",name:"Ain"},{id:31,number:"31",name:"Ain"},{id:32,number:"32",name:"Ain"},{id:33,number:"33",name:"Ain"},{id:34,number:"34",name:"Ain"},{id:35,number:"35",name:"Ain"},{id:36,number:"36",name:"Ain"},{id:37,number:"37",name:"Ain"},{id:38,number:"38",name:"Ain"},{id:39,number:"39",name:"Ain"},{id:40,number:"40",name:"Ain"},{id:41,number:"41",name:"Ain"},{id:42,number:"42",name:"Ain"},{id:43,number:"43",name:"Ain"},{id:44,number:"44",name:"Ain"},{id:45,number:"45",name:"Ain"},{id:46,number:"46",name:"Ain"},{id:47,number:"47",name:"Ain"},{id:48,number:"48",name:"Ain"},{id:49,number:"49",name:"Ain"},{id:50,number:"50",name:"Ain"},{id:51,number:"51",name:"Ain"},{id:52,number:"52",name:"Ain"},{id:53,number:"53",name:"Ain"},{id:54,number:"54",name:"Ain"},{id:55,number:"55",name:"Ain"},{id:56,number:"56",name:"Ain"},{id:57,number:"57",name:"Ain"},{id:58,number:"58",name:"Ain"},{id:59,number:"59",name:"Ain"},{id:60,number:"60",name:"Ain"},{id:61,number:"61",name:"Ain"},{id:62,number:"62",name:"Ain"},{id:63,number:"63",name:"Ain"},{id:64,number:"64",name:"Ain"},{id:65,number:"65",name:"Ain"},{id:66,number:"66",name:"Ain"},{id:67,number:"67",name:"Ain"},{id:68,number:"68",name:"Ain"},{id:69,number:"69",name:"Ain"},{id:70,number:"70",name:"Ain"},{id:71,number:"71",name:"Ain"},{id:72,number:"72",name:"Ain"},{id:73,number:"73",name:"Ain"},{id:74,number:"74",name:"Ain"},{id:75,number:"75",name:"Ain"},{id:76,number:"76",name:"Ain"},{id:77,number:"77",name:"Ain"},{id:78,number:"78",name:"Ain"},{id:79,number:"79",name:"Ain"},{id:80,number:"80",name:"Ain"},{id:81,number:"81",name:"Ain"},{id:82,number:"82",name:"Ain"},{id:83,number:"83",name:"Ain"},{id:84,number:"84",name:"Ain"},{id:85,number:"85",name:"Ain"},{id:86,number:"86",name:"Ain"},{id:87,number:"87",name:"Ain"},{id:88,number:"88",name:"Ain"},{id:89,number:"89",name:"Ain"},{id:90,number:"90",name:"Ain"},{id:91,number:"91",name:"Ain"},{id:92,number:"92",name:"Ain"},{id:93,number:"93",name:"Ain"},{id:94,number:"94",name:"Ain"},{id:95,number:"95",name:"Ain"},{id:96,number:"96",name:"Ain"},{id:97,number:"971",name:"Ain"},{id:98,number:"972",name:"Ain"},{id:99,number:"973",name:"Ain"},{id:100,number:"974",name:"Ain"},{id:101,number:"976",name:"Ain"}],perPage:15,currentPage:1,minPrice:0,maxPrice:0}},created(){W.getCategories().then((e=>{this.$store.dispatch("categories",e.data["hydra:member"].filter((e=>!e?.parent)))})).catch((e=>console.log(e))),W.getProductsValid().then((e=>{this.$store.dispatch("products",e.data["hydra:member"])})).catch((e=>console.log(e)))},mounted(){let e=this.$route.query.category,t=this.$route.query.words;t?this.paramWords=t:e&&this.categories.some((t=>t.name.toLowerCase()==e.toLowerCase()))&&(this.paramCategory=e.toLowerCase(),this.initializaFilterCategories()),this.nbResults=this.products.length,this.minPrice=this.getMinPrice(),this.maxPrice=this.getMaxPrice(),this.paginate(this.perPage,0)},watch:{"$route.query":{immediate:!1,handler(e){e.category&&(this.paramCategory=e.category,this.initializaFilterCategories()),this.paginate(this.perPage,0)}},minPrice:{handler(e){this.minPrice=e}},maxPrice:{handler(e){this.maxPrice=e}}},methods:{paginate(e,t){let s=this.$store.getters.products;s&&(this.paginatedProducts=s.slice(t*e,(t+1)*e))},onPageChanged(e){this.paginate(this.perPage,e-1),window.scrollTo(0,0)},getMaxPrice(){let e=Math.max(...this.products.map((e=>e.price)));return e},getMinPrice(){let e=Math.min(...this.products.map((e=>e.price)));return e},applyFilters(){let e=this.selected.locations,t=this.selected.categories,s=this.products,r=this.selected.notes,a=this.currentPage,i=this.perPage,o=this.paramWords,n=e&&e.length>0?s.filter((t=>e.includes(t.region))):s,l=t&&t.length>0?n.filter((e=>t.includes(e.category.name))):n,c=l.filter((e=>e.price>=this.minPrice&&e.price<=this.maxPrice)),d=[];switch(r){case"1plus":d=c.filter((e=>e.note>=1));break;case"2plus":d=c.filter((e=>e.note>=2));break;case"3plus":d=c.filter((e=>e.note>=3));break;case"4plus":d=c.filter((e=>e.note>=4));break;default:d=c;break}let u=o?d.filter((e=>e.name.includes(o))):d;return this.nbResults=u.length,u.filter(((e,t)=>{let s=(a-1)*i,r=a*i;if(t>=s&&t<r)return!0}))},sortedRefresh(){switch(this.selected.orderBy){case"noteUp":return this.applyFilters().sort(((e,t)=>e.note-t.note));case"noteDown":return this.applyFilters().sort(((e,t)=>t.note-e.note));case"priceUp":return this.applyFilters().sort(((e,t)=>e.price-t.price));case"priceDown":return this.applyFilters().sort(((e,t)=>t.price-e.price));default:return this.applyFilters()}},selectedAllSubCategories(e){let t=this.categories.map((function(e){return e.name.toLowerCase()})).indexOf("string"===typeof e?e.toLowerCase():e.name.toLowerCase())+1;if(t>0){let s="string"===typeof e?this.categories[t-1]:e;document.getElementById("category"+t).checked?s.children.forEach((e=>{this.selected.categories.push(e.name)})):s.children.forEach((e=>{let t=this.selected.categories.map((function(e){return e.toLowerCase()})).indexOf(e.name.toLowerCase());this.selected.categories.splice(t,1)}))}},unselectAllCategories(){this.selected.categories=[],this.categories.forEach(((e,t)=>{t+=1,document.getElementById("category"+t).checked=!1}))},initializaFilterCategories(){let e=this.paramCategory;this.unselectAllCategories();let t=this.categories.map((function(e){return e.name.toLowerCase()})).indexOf(e)+1;document.getElementById("category"+t).checked=!0,this.selectedAllSubCategories(e)}},computed:{sortedBy(){return this.sortedRefresh()},...(0,d.Se)(["categories","products"])}},Ss=As,Ns=(0,p.Z)(Ss,Is,Es,!1,null,null,null),Rs=Ns.exports,Ms=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("h3",{staticClass:"mt-5 text-center"},[e._v("Mon compte")]),s("hr"),s("div",{staticClass:"sub-menu-account"},[s("div",{staticClass:"row mx-0"},[s("div",{staticClass:"sub-menu-item w-50",class:e.informationsTabActive?"bg-light":"",on:{click:function(t){return e.subMenuHandler("info")}}},[e._v("Mes informations")]),s("div",{staticClass:"sub-menu-item w-50",class:e.reservationsTabActive?"bg-light":"",on:{click:function(t){return e.subMenuHandler("res")}}},[e._v("Mes réservations")])])]),s("div",{staticClass:"sub-menu-content"},[e.informationsSelected?s("div",[s("PersonalInformations")],1):s("div",[s("PersonalReservations")],1)])])},Ts=[],qs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container p-5"},[s("div",{staticClass:"container-fluid my-5 d-sm-flex justify-content-center"},[s("div",{staticClass:"d-flex flex-column"},[e._l(e.reservations,(function(t){return s("div",{key:t.id,staticClass:"p-2"},[s("div",{staticClass:"card px-2"},[s("div",{staticClass:"card-header bg-white"},[s("div",{staticClass:"row justify-content-between"},[s("div",{staticClass:"col"},[s("h4",{staticClass:"text-muted"},[e._v(" ID de produit : "),s("span",{staticClass:"font-weight-bold text-dark"},[e._v(e._s(t.product.id))])]),s("div",{staticClass:"localisation"},[s("h4",[e._v("Localisation du produit")]),s("hr"),s("GoogleMap",{attrs:{address:t.product.address}}),e._v(" "+e._s(t.product.address)+" ")],1)])])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"media flex-column flex-sm-row"},[s("div",{staticClass:"media-body "},[s("h5",{staticClass:"bold"},[e._v(e._s(t.product.name))]),s("p",{staticClass:"text-muted"},[e._v(" Prix de caution "+e._s(t.product.caution)+"€")]),s("p",{staticClass:"text-muted"},[e._v(" Prix de produit par unité "+e._s(t.product.price)+"€")]),s("p",{staticClass:"text-muted"},[e._v(" Prix payé en total avec caution :")]),s("h4",{staticClass:"mt-3 mb-4 bold"},[s("span",{staticClass:"mt-5"},[e._v("₹")]),e._v(" "+e._s(t.price)+" €")])]),s("img",{staticClass:"align-self-center img-fluid",attrs:{src:"https://hearhear.org/wp-content/uploads/2019/09/no-image-icon.png",width:"180 ",height:"180"}})])]),s("div",{staticClass:"row px-3"},[s("div",{staticClass:"col"},["payed"===t.state?s("ul",{attrs:{id:"progressbar"}},[s("li",{staticClass:"step0 active",attrs:{id:"step1"}},[e._v("Payer le "+e._s(t.createdAt))]),s("li",{staticClass:"step0 text-center",attrs:{id:"step2"}},[e._v("Récupérer le "+e._s(t.rentalBeginDate)+" ")]),s("li",{staticClass:"step0 text-muted text-right",attrs:{id:"step3"}},[e._v("Rendre le "+e._s(t.rentalEndDate))])]):e._e(),"retrieved"===t.state?s("ul",{attrs:{id:"progressbar"}},[s("li",{staticClass:"step0 active",attrs:{id:"step1"}},[e._v("Payer le "+e._s(t.createdAt))]),s("li",{staticClass:"step0 text-center active",attrs:{id:"step2"}},[e._v("Récupérer le "+e._s(t.rentalBeginDate)+" ")]),s("li",{staticClass:"step0 text-muted text-right",attrs:{id:"step3"}},[e._v("Rendre le "+e._s(t.rentalEndDate))])]):e._e(),"restored"===t.state?s("ul",{attrs:{id:"progressbar"}},[s("li",{staticClass:"step0 active",attrs:{id:"step1"}},[e._v("Payer le "+e._s(t.createdAt))]),s("li",{staticClass:"step0 text-center active",attrs:{id:"step2"}},[e._v("Récupérer le "+e._s(t.rentalBeginDate)+" ")]),s("li",{staticClass:"step0 text-muted text-right active",attrs:{id:"step3"}},[e._v("Rendre le "+e._s(t.rentalEndDate))])]):e._e()])]),s("div",{staticClass:"card-footer bg-white px-sm-3 pt-sm-4 px-0"},[s("div",{staticClass:"row text-center "},[s("div",{staticClass:"col my-auto"},["payed"===t.state?s("button",{staticClass:"btn btn-info",on:{click:function(s){return e.myMethod(t)}}},[e._v("Récupérer le produit")]):e._e(),"retrieved"===t.state?s("button",{staticClass:"btn btn-info",on:{click:function(s){return e.myMethod(t)}}},[e._v("Rendre le produit")]):e._e(),"restored"===t.state?s("h5",{on:{click:function(s){return e.myMethod(t)}}},[s("p",[e._v("Remboursement de votre caution de "+e._s(t.product.caution)+"€ a été bien envoyé")])]):e._e()])])])])])})),0==e.reservations.length?s("div",[s("div",[e._v("Vous n'avez aucune réservation")])]):e._e()],2)])])},$s=[],Vs={components:{GoogleMap:as},name:"PersonalReservations",data:()=>({informationsTabActive:!0,reservationsTabActive:!1}),created(){W.getReservations().then((e=>{this.$store.dispatch("reservations",e.data["hydra:member"])})).catch((e=>console.log(e)))},computed:{...(0,d.Se)(["reservations"])},mounted(){const e=this.$store.getters.userPermission;e||this.$router.push("/")},methods:{myMethod:function(e){this.$store.dispatch("reservations",this.$store.getters.reservations.map((t=>t.id===e.id?{...t,state:"payed"===e.state?"retrieved":"restored"}:t))),W.updateReservation({id:e.id,state:"payed"===e.state?"retrieved":"restored"}).then((e=>{console.log(e)})).catch((e=>console.log(e))),"retrieved"===e.state&&W.refund({caution:e.product.caution,paymentIntent:e.paymentIntent}).then((e=>{console.log(e)})).catch((e=>console.log(e)))}}},Bs=Vs,Fs=(0,p.Z)(Bs,qs,$s,!1,null,"578ff328",null),Ds=Fs.exports,js=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container p-5"},[s("div",{staticClass:"spinner-middle"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"spinner-border",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[e._v("Loading...")])])]),e.user?s("div",[s("b-form-checkbox",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-role",modifiers:{"modal-role":!0}}],staticClass:"role-button",attrs:{name:"roleRenterButton",switch:""},model:{value:e.roleRenter,callback:function(t){e.roleRenter=t},expression:"roleRenter"}},[e._v(" Activer la possibilité de pouvoir déposer des annonces ")]),s("b-modal",{attrs:{id:"modal-role",centered:"",title:"Demande de confirmation"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var r=t.ok,a=t.cancel;return[s("div",{staticClass:"mx-auto"},[s("b-button",{staticClass:"rounded-0 mr-1",on:{click:function(e){return a()}}},[e._v("Annuler")]),s("b-button",{staticClass:"rounded-0 ml-1",attrs:{variant:"success"},on:{click:function(t){e.handleChangeRole(r())}}},[e._v("Valider")])],1)]}}],null,!1,3887035297)},[e.roleRenter?s("p",{staticClass:"my-4"},[e._v("Êtes-vous sûr de vouloir vous ajouter la possibilité de déposer des annonces sur le site dans le but de mettre en locations des produits ?")]):s("p",{staticClass:"my-4"},[e._v("Êtes-vous sûr de vouloir vous enlever la possibilité de déposer des annonces sur le site ?"),s("br"),e._v("Vos annonces ne seront plus visibles par les autres utilisateurs du site")])]),s("br"),s("div",{directives:[{name:"b-modal",rawName:"v-b-modal.modalEditUser",modifiers:{modalEditUser:!0}}],staticClass:"edit-button mb-3"},[e._v("Modifier mes informations")]),s("table",{staticClass:"table table-informations"},[s("tr",[e._m(0),s("td",{staticClass:"text-left"},[e._v(e._s(e.user.firstName))])]),s("tr",[e._m(1),s("td",{staticClass:"text-left"},[e._v(e._s(e.user.lastName))])]),s("tr",[e._m(2),s("td",{staticClass:"text-left"},[e._v(e._s(e.user.email))])]),s("tr",[e._m(3),s("td",{staticClass:"text-left"},[e._v(e._s(e.user.address.streetName)+" ("+e._s(e.user.address.city)+" - "+e._s(e.user.address.region)+")")])]),s("tr",[e._m(4),s("td",{staticClass:"text-left"},[e._v(e._s(e.user.roles.includes("ROLE_ADMIN")?"Administrateur":"loueur"))])])]),s("b-modal",{attrs:{id:"modalEditUser",size:"lg"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var r=t.ok,a=t.cancel;return[s("div",{staticClass:"mx-auto"},[s("b-button",{staticClass:"rounded-0 mr-1",on:{click:function(e){return a()}}},[e._v("Annuler")]),s("b-button",{staticClass:"rounded-0 ml-1",attrs:{variant:"success"},on:{click:function(t){e.handleEditUser(r())}}},[e._v("Valider")])],1)]}}],null,!1,1790927678)},[s("div",{staticClass:"modal-body container m-auto"},[s("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.validate;return[s("form",{on:{submit:function(t){t.preventDefault(),r().then(e.handleEditUser)}}},[s("h4",{staticClass:"text-center"},[e._v("Informations personnelles")]),s("div",{staticClass:"form-group"},[s("label",[e._v("Prénom")]),s("ValidationProvider",{attrs:{rules:"required|minmax:1,50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],staticClass:"form-control",class:"is-"+a,attrs:{type:"text",id:"firstName",placeholder:"Saisissez votre nom"},domProps:{value:e.firstName},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",[e._v("Nom")]),s("ValidationProvider",{attrs:{rules:"required|minmax:1,50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],staticClass:"form-control",class:"is-"+a,attrs:{type:"text",id:"lastName",placeholder:"Saisissez votre prénom"},domProps:{value:e.lastName},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group address-form mt-4"},[s("label",{staticClass:"address-label"},[e._v("Adresse")]),s("div",{staticClass:"frame-address-form-input"},[s("ValidationProvider",{attrs:{rules:"required|minmax:1,100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.addressStreet,expression:"addressStreet"}],staticClass:"form-control",class:"is-"+a,attrs:{type:"text",id:"addressStreet",placeholder:"Nom de la rue"},domProps:{value:e.addressStreet},on:{input:function(t){t.target.composing||(e.addressStreet=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)}),s("ValidationProvider",{attrs:{rules:"required|minmax:1,50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.addressCity,expression:"addressCity"}],staticClass:"form-control mt-3",class:"is-"+a,attrs:{type:"text",id:"addressCity",placeholder:"Nom de la ville"},domProps:{value:e.addressCity},on:{input:function(t){t.target.composing||(e.addressCity=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)}),s("ValidationProvider",{attrs:{rules:"required|integer|between:1,99"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[s("b-form-select",{staticClass:"mt-3",attrs:{options:e.optionsRegion,"value-field":"id","text-field":"name"},scopedSlots:e._u([{key:"first",fn:function(){return[s("b-form-select-option",{attrs:{value:null,enabled:""}},[e._v("-- Selectionnez votre département --")])]},proxy:!0}],null,!0),model:{value:e.addressRegion,callback:function(t){e.addressRegion=t},expression:"addressRegion"}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1)]),s("div",{staticClass:"form-group"},[s("label",[e._v("Email")]),s("ValidationProvider",{attrs:{rules:"required|email|minmax:1,50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",class:"is-"+a,attrs:{type:"email",id:"exampleInputEmail1",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1)])]}}],null,!1,4218072335)})],1)])],1):s("div",[s("div",[e._v("Désolé, aucune information sur vous n'a été trouvée")])])])},Os=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("td",{staticClass:"text-right pr-5"},[s("label",{attrs:{for:"prenom"}},[e._v("Prénom:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("td",{staticClass:"text-right pr-5"},[s("label",{attrs:{for:"prenom"}},[e._v("Nom:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("td",{staticClass:"text-right pr-5"},[s("label",{attrs:{for:"prenom"}},[e._v("Email:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("td",{staticClass:"text-right pr-5"},[s("label",{attrs:{for:"prenom"}},[e._v("Adresse:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("td",{staticClass:"text-right pr-5"},[s("label",{attrs:{for:"prenom"}},[e._v("Role:")])])}];(0,be.l7)("minmax",{validate(e,{min:t,max:s}){return e.length>=t&&e.length<=s},message:"Ce champs doit contenir entre {min} et {max} caractères",params:["min","max"]}),(0,be.l7)("required",{...Ce.C1,message:"Ce champs est obligatoire"}),(0,be.l7)("integer",{...Ce._L,message:"Ce champs doit etre un nombre"}),(0,be.l7)("between",{...Ce.vX,message:"La valeur doit être entre {min} et {max}",params:["min","max"]}),(0,be.l7)("email",{...Ce.Do,message:"Le format ne correspond pas à un email"}),(0,be.l7)("oneOf",{...Ce.kw,message:"Ne correspond à aucune valeur possible"});var Us={name:"PersonalInformations",components:{ValidationProvider:be.d_,ValidationObserver:be._j},data:()=>({user:null,roleRenter:!0,isLoading:!1,firstName:"",lastName:"",addressStreet:"",addressCity:"",addressRegion:null,email:"",optionsRegion:[]}),created(){this.$store.getters.user&&(this.user=this.$store.getters.user,this.user.roles.includes("ROLE_RENTER")?this.roleRenter=!0:this.roleRenter=!1,this.firstName=this.user.firstName,this.lastName=this.user.lastName,this.addressStreet=this.user.address.streetName,this.addressCity=this.user.address.city,this.email=this.user.email),qe.getRegions().then((e=>{this.optionsRegion=e.data["hydra:member"],this.$store.dispatch("regions",e.data["hydra:member"]),this.addressRegion=this.user.address.region.slice(9)})).catch((e=>console.log(e)))},mounted(){const e=this.$store.getters.userPermission;e||this.$router.push("/")},methods:{handleChangeRole(){this.isLoading=!0;let e=this.roleRenter?"ROLE_RENTER":"",t=this.user.roles;this.roleRenter?(this.user.roles.unshift(e),t=this.user.roles):(t=this.user.roles.filter((e=>"ROLE_RENTER"!=e)),0==t.length&&t.push("ROLE_USER")),W.updateUser(this.user.id,{roles:t}).then((e=>{this.$store.dispatch("user",e.data.data)})).catch((e=>console.log(e))).finally((()=>{this.isLoading=!1}))},handleEditUser(){this.address={streetName:this.addressStreet,city:this.addressCity,region:"regions/"+this.addressRegion},W.updateUser(this.user.id,{firstName:this.firstName,lastName:this.lastName,address:this.address,email:this.email}).then((()=>{localStorage.setItem("successMessage","Vos informations ont été modifiées avec succès"),this.$router.go()})).catch((e=>{console.log(e)}))}}},Hs=Us,Gs=(0,p.Z)(Hs,js,Os,!1,null,"02e22f30",null),Zs=Gs.exports,zs={name:"Account",components:{PersonalReservations:Ds,PersonalInformations:Zs},data:()=>({informationsTabActive:!0,reservationsTabActive:!1,informationsSelected:!0,reservationsSelected:!1}),methods:{subMenuHandler(e){"info"==e?(this.informationsTabActive=!0,this.reservationsTabActive=!1,this.informationsSelected=!0,this.reservationsSelected=!1):(this.informationsTabActive=!1,this.reservationsTabActive=!0,this.informationsSelected=!1,this.reservationsSelected=!0)}}},Ws=zs,Ks=(0,p.Z)(Ws,Ms,Ts,!1,null,"42a53dec",null),Js=Ks.exports,Ys=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Xs=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"cgu-bloc"},[s("h1",{staticClass:"text-center"},[e._v("Conditions générales d'utilisation du site")]),s("p",[e._v(" Les présentes conditions générales d'utilisation (dites « CGU ») ont pour objet l'encadrement juridique des modalités de mise à disposition du site et des services par RENTME et de définir les conditions d’accès et d’utilisation des services par « l'Utilisateur ». Les présentes CGU sont accessibles sur le site via le lien « Conditions Générales d'Utilisation ». Les CGU doivent être acceptées par tout Utilisateur souhaitant accéder au site. Elles constituent le contrat entre le site et l'Utilisateur. L’accès au site par l’Utilisateur signifie son acceptation des présentes CGU. Il s’engage désormais à respecter les présentes conditions. Ou si le site comprend un espace membre : Toute inscription ou utilisation du site implique l'acceptation sans aucune réserve ni restriction des présentes CGU par l’utilisateur. Lors de l'inscription sur le site via le Formulaire d’inscription, chaque utilisateur accepte expressément les présentes CGU en cochant la case précédant le texte suivant : « Je reconnais avoir lu et compris les Conditions générales d'utilisation et je les accepte ». En cas de non-acceptation des CGU stipulées dans le présent contrat, l'Utilisateur se doit de renoncer à l'accès des services proposés par le site. RENTME se réserve le droit de modifier unilatéralement et à tout moment le contenu des présentes CGU. ")]),s("h2",[e._v("ARTICLE 1 : Mentions légales")]),s("p",[e._v(" L’édition et la direction de la publication du site (indiquer le nom du site) est assurée par (Madame ou Monsieur, indiquer l’identité complète), domiciliée (indiquer l’adresse), (numéro de téléphone), (adresse email), (éventuellement si la personne physique y est assujettie indiquer le numéro d'inscription au registre du commerce et des sociétés ou au répertoire des métiers) Eventuellement : N° de TVA intracommunautaire : (indiquer le numéro) L'hébergeur du site (indiquer le nom du site) est la Société (indiquer le nom de la société et la forme sociale), au capital de (indiquer le montant), immatriculée au RCS de (indiquer la ville) sous le numéro (indiquer le SIREN), dont le siège social est situé au (indiquer l’adresse), (indiquer le numéro de téléphone), (indiquer l’adresse email). ")]),s("h2",[e._v("ARTICLE 2 : Accès au site")]),s("p",[e._v(" Le site (indiquer le nom du site) permet à l'Utilisateur un accès gratuit aux services suivants : - (Détailler les services) - … Le site est accessible gratuitement en tout lieu à tout Utilisateur ayant un accès à Internet. Tous les frais supportés par l'Utilisateur pour accéder au service (matériel informatique, logiciels, connexion Internet, etc.) sont à sa charge. Si le site comprend un espace membre : L’Utilisateur non membre n'a pas accès aux services réservés. Pour cela, il doit s’inscrire en remplissant le formulaire. En acceptant de s’inscrire aux services réservés, l’Utilisateur membre s’engage à fournir des informations sincères et exactes concernant son état civil et ses coordonnées, notamment son adresse email. L’Utilisateur est responsable de la mise à jour des informations fournies. Il lui est précisé qu’il peut les modifier en se connectant à son espace membre. Pour accéder aux services, l’Utilisateur devra s'identifier à l'aide de son nom d’utilisateur et de son mot de passe qui lui seront communiqués après son inscription et qui sont strictement personnels. A ce titre, il s’en interdit toute divulgation. Dans le cas contraire, il restera seul responsable de l’usage qui en sera fait. L’Utilisateur pourra également solliciter sa désinscription en se rendant à la page dédiée sur son espace personnel ou envoyant un email à : (préciser l’adresse). Celle-ci sera effective dans un délai raisonnable. En cas de non respect des conditions générales de vente et/ou d’utilisation, le site (Indiquer le nom du site) aura la possibilité de suspendre voire de fermer le compte d’un Utilisateur après mise en demeure adressée par voie électronique et restée sans effet. Toute suppression de compte, quel qu’en soit le motif, engendre la suppression pure et simple de toutes informations personnelles de l’Utilisateur. Tout événement dû à un cas de force majeure ayant pour conséquence un dysfonctionnement du site ou serveur et sous réserve de toute interruption ou modification en cas de maintenance, n'engage pas la responsabilité de (indiquer le nom du site). Dans ces cas, l’Utilisateur accepte ainsi ne pas tenir rigueur à l’éditeur de toute interruption ou suspension de service, même sans préavis. L'Utilisateur a la possibilité de contacter le site par messagerie électronique à l’adresse email de l’éditeur communiqué à l’ARTICLE 1. ")]),s("h2",[e._v("ARTICLE 3 : Données personnelles")]),s("p",[e._v(" En l’absence de collecte de données personnelles : Le site est exempté de déclaration à la Commission Nationale Informatique et Libertés (CNIL) dans la mesure où il ne collecte aucune donnée concernant les utilisateurs. Ou en cas de collecte de données personnelles : Le site assure à l'Utilisateur une collecte et un traitement d'informations personnelles dans le respect de la vie privée conformément à la loi n°78-17 du 6 janvier 1978 relative à l'informatique, aux fichiers et aux libertés. Le site est déclaré à la CNIL sous le numéro (indiquer le numéro de déclaration). En vertu de la loi Informatique et Libertés, en date du 6 janvier 1978, l'Utilisateur dispose d'un droit d'accès, de rectification, de suppression et d'opposition de ses données personnelles. L'Utilisateur exerce ce droit : • par mail à (indiquer l’adresse) • par voie postale (indiquer le nom et l’adresse) Eventuellement vous pouvez ajouter : • via un formulaire de contact ; • via son espace personnel ; ")]),s("h2",[e._v("ARTICLE 4 : Propriété intellectuelle")]),s("p",[e._v(" Les marques, logos, signes ainsi que tous les contenus du site (textes, images, son…) font l'objet d'une protection par le Code de la propriété intellectuelle et plus particulièrement par le droit d'auteur. Si votre marque est protégée, ajouter : La marque (indiquer le nom de la marque) est une marque déposée par (votre nom).Toute représentation et/ou reproduction et/ou exploitation partielle ou totale de cette marque, de quelque nature que ce soit, est totalement prohibée. L'Utilisateur doit solliciter l'autorisation préalable du site pour toute reproduction, publication, copie des différents contenus. Il s'engage à une utilisation des contenus du site dans un cadre strictement privé, toute utilisation à des fins commerciales et publicitaires est strictement interdite. Toute représentation totale ou partielle de ce site par quelque procédé que ce soit, sans l’autorisation expresse de l’exploitant du site Internet constituerait une contrefaçon sanctionnée par l’article L 335-2 et suivants du Code de la propriété intellectuelle. Il est rappelé conformément à l’article L122-5 du Code de propriété intellectuelle que l’Utilisateur qui reproduit, copie ou publie le contenu protégé doit citer l’auteur et sa source. ")]),s("h2",[e._v("ARTICLE 5 : Responsabilité")]),s("p",[e._v(" Les sources des informations diffusées sur le site (indiquer le nom du site) sont réputées fiables mais le site ne garantit pas qu’il soit exempt de défauts, d’erreurs ou d’omissions. Les informations communiquées sont présentées à titre indicatif et général sans valeur contractuelle. Malgré des mises à jour régulières, le site (indiquer le nom du site) ne peut être tenu responsable de la modification des dispositions administratives et juridiques survenant après la publication. De même, le site ne peut être tenue responsable de l’utilisation et de l’interprétation de l’information contenue dans ce site. Si le site comprend un espace membre : L'Utilisateur s'assure de garder son mot de passe secret. Toute divulgation du mot de passe, quelle que soit sa forme, est interdite. Il assume les risques liés à l'utilisation de son identifiant et mot de passe. Le site décline toute responsabilité. Le site (indiquer le nom du site) ne peut être tenu pour responsable d’éventuels virus qui pourraient infecter l’ordinateur ou tout matériel informatique de l’Internaute, suite à une utilisation, à l’accès, ou au téléchargement provenant de ce site. La responsabilité du site ne peut être engagée en cas de force majeure ou du fait imprévisible et insurmontable d'un tiers. ")]),s("h2",[e._v("ARTICLE 6 : Liens hypertextes")]),s("p",[e._v(" Des liens hypertextes peuvent être présents sur le site. L’Utilisateur est informé qu’en cliquant sur ces liens, il sortira du site (indiquer le nom du site). Ce dernier n’a pas de contrôle sur les pages web sur lesquelles aboutissent ces liens et ne saurait, en aucun cas, être responsable de leur contenu. ")]),s("h2",[e._v("ARTICLE 7 : Cookies")]),s("p",[e._v(" L’Utilisateur est informé que lors de ses visites sur le site, un cookie peut s’installer automatiquement sur son logiciel de navigation. Les cookies sont de petits fichiers stockés temporairement sur le disque dur de l’ordinateur de l’Utilisateur par votre navigateur et qui sont nécessaires à l’utilisation du site (Indiquer le nom du site). Les cookies ne contiennent pas d’information personnelle et ne peuvent pas être utilisés pour identifier quelqu’un. Un cookie contient un identifiant unique, généré aléatoirement et donc anonyme. Certains cookies expirent à la fin de la visite de l’Utilisateur, d’autres restent. L’information contenue dans les cookies est utilisée pour améliorer le site, par exemple en : • permettant à un service de reconnaître l’appareil de l’Utilisateur, pour qu’il n’ait pas à donner les mêmes informations à plusieurs reprises, par exemple remplir un formulaire ou une enquête. • mémorisant que vous l’Utilisateur a déjà donné ses identifiant et mot de passe, pour ne pas avoir à le refaire à chaque nouvelle page. • surveillant comment les utilisateurs se servent des services, pour les rendre plus simples d’utilisation et allouer suffisamment de puissance pour s’assurer de leur réactivité. • analysant des données « anonymisées » pour aider à comprendre comment les utilisateurs interagissent avec les différents aspects des services en ligne et donc permettre de les améliorer. En naviguant sur le site, L’Utilisateur les accepte. (Il conviendra de déterminer avec l’éditeur ou l’hébergeur la possibilité de récupérer le consentement ou en tout cas d’informer l’Utilisateur, par le biais d’une bannière à l’ouverture du site). A défaut d’acceptation, l’Utilisateur est informé que certaines fonctionnalités ou pages risquent de lui être refusées. L’Utilisateur pourra désactiver ce cookie par l’intermédiaire des paramètres figurant au sein de son logiciel de navigation. Eventuellement en cas de publications autorisées par l’Utilisateur ")]),s("h2",[e._v("ARTICLE 8 : Publication par l’Utilisateur")]),s("p",[e._v(" Le site permet aux membres de publier (indiquer la nature des publications : œuvres personnelles, commentaires sous articles…). Dans ses publications, le membre s’engage à respecter les règles de la Netiquette (règles de bonne conduite de l’internet) et les règles de droit en vigueur. Le site peut exercer une modération sur les publications et se réserve le droit de refuser leur mise en ligne, sans avoir à s’en justifier auprès du membre. Le membre reste titulaire de l’intégralité de ses droits de propriété intellectuelle. Mais en publiant une publication sur le site, il cède à la société éditrice le droit non exclusif et gratuit de représenter, reproduire, adapter, modifier, diffuser et distribuer sa publication, directement ou par un tiers autorisé, dans le monde entier, sur tout support (numérique ou physique), pour la durée de la propriété intellectuelle. Le Membre cède notamment le droit d'utiliser sa publication sur internet et sur les réseaux de téléphonie mobile. La société éditrice s'engage à faire figurer le nom du membre à proximité de chaque utilisation de sa publication. Tout contenu mis en ligne par l'Utilisateur est de sa seule responsabilité. L'Utilisateur s'engage à ne pas mettre en ligne de contenus pouvant porter atteinte aux intérêts de tierces personnes. Tout recours en justice engagé par un tiers lésé contre le site sera pris en charge par l'Utilisateur. Le contenu de l'Utilisateur peut être à tout moment et pour n'importe quelle raison supprimé ou modifié par le site, sans préavis. ")])])}],Qs={name:"Cgu"},er=Qs,tr=(0,p.Z)(er,Ys,Xs,!1,null,null,null),sr=tr.exports,rr=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ar=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"cgv-bloc"},[s("h1",{staticClass:"text-center"},[e._v("CONDITIONS GENERALES DE VENTE")]),s("h2",[e._v("Clause n° 1 : Objet et champ d'application")]),s("p",[e._v(" Les présentes conditions générales de vente (CGV) constituent le socle de la négociation commerciale et sont systématiquement adressées ou remises à chaque acheteur pour lui permettre de passer commande. Les conditions générales de vente décrites ci-après détaillent les droits et obligations de la société ... (dénomination sociale) et de son client dans le cadre de la vente des marchandises suivantes : ... (le vendeur doit recenser les marchandises soumises aux CGV). Toute acceptation du devis/bon de commande en ce compris la clause « Je reconnais avoir pris connaissance et j'accepte les conditions générales de vente ci-annexées » implique l'adhésion sans réserve de l'acheteur aux présentes conditions générales de vente. ")]),s("h2",[e._v("Clause n° 2 : Prix")]),s("p",[e._v(" Les prix des marchandises vendues sont ceux en vigueur au jour de la prise de commande. Ils sont libellés en euros et calculés hors taxes. Par voie de conséquence, ils seront majorés du taux de TVA et des frais de transport applicables au jour de la commande. La société ... (dénomination sociale) s'accorde le droit de modifier ses tarifs à tout moment. Toutefois, elle s'engage à facturer les marchandises commandées aux prix indiqués lors de l'enregistrement de la commande. ")]),s("h2",[e._v("Clause n° 3 : Rabais et ristournes")]),s("p",[e._v(" Les tarifs proposés comprennent les rabais et ristournes que la société ... (dénomination sociale) serait amenée à octroyer compte tenu de ses résultats ou de la prise en charge par l'acheteur de certaines prestations. ")]),s("h2",[e._v("Clause n° 4 : Escompte")]),s("p",[e._v(" Aucun escompte ne sera consenti en cas de paiement anticipé. ")]),s("h2",[e._v("Clause n° 5 : Modalités de paiement")]),s("p",[e._v(" Le règlement des commandes s'effectue : par carte bancaire ; Les règlements seront effectués aux conditions suivantes : Paiement à 30 jours suivant la réception des marchandises ou Paiement à 45 jours fin de mois suivant la date de facturation ou Paiement à 60 jours suivant la date de facturation ")]),s("h2",[e._v("Clause n° 6 : Retard de paiement")]),s("p",[e._v(" En cas de défaut de paiement total ou partiel des marchandises livrées à l'échéance, l'acheteur doit verser à la société ... (dénomination sociale) une pénalité de retard égale à trois fois le taux de l'intérêt légal. Le taux de l'intérêt légal retenu est celui en vigueur au jour de la livraison des marchandises. A compter du 1er janvier 2015, le taux d'intérêt légal sera révisé tous les 6 mois (Ordonnance n°2014-947 du 20 août 2014). Cette pénalité est calculée sur le montant TTC de la somme restant due, et court à compter de la date d'échéance du prix sans qu'aucune mise en demeure préalable ne soit nécessaire. En sus des indemnités de retard, toute somme, y compris l’acompte, non payée à sa date d’exigibilité produira de plein droit le paiement d’une indemnité forfaitaire de 40 euros due au titre des frais de recouvrement. Articles 441-10 et D. 441-5 du code de commerce. ")]),s("h2",[e._v("Clause n° 7 : Clause résolutoire")]),s("p",[e._v(" Si dans les quinze jours qui suivent la mise en oeuvre de la clause \"Retard de paiement\", l'acheteur ne s'est pas acquitté des sommes restant dues, la vente sera résolue de plein droit et pourra ouvrir droit à l'allocation de dommages et intérêts au profit de la société ... (dénomination sociale). ")]),s("h2",[e._v("Clause n° 8 : Clause de réserve de propriété")]),s("p",[e._v(" La société ... (dénomination sociale) conserve la propriété des biens vendus jusqu'au paiement intégral du prix, en principal et en accessoires. À ce titre, si l'acheteur fait l'objet d'un redressement ou d'une liquidation judiciaire, la société ... (dénomination sociale) se réserve le droit de revendiquer, dans le cadre de la procédure collective, les marchandises vendues et restées impayées. ")]),s("h2",[e._v("Clause n° 9 : Livraison")]),s("p",[e._v(" La livraison est effectuée : soit par la remise directe de la marchandise à l'acheteur ; soit par l'envoi d'un avis de mise à disposition en magasin à l'attention de l'acheteur ; soit par le dépôt de la marchandise au lieu indiqué par l'acheteur sur le bon de commande. Le délai de livraison indiqué lors de l'enregistrement de la commande n'est donné qu'à titre indicatif et n'est aucunement garanti. Par voie de conséquence, tout retard raisonnable dans la livraison des produits ne pourra pas donner lieu au profit de l'acheteur à : l'allocation de dommages et intérêts ; l'annulation de la commande. Le risque du transport est supporté en totalité par l'acheteur. En cas de marchandises manquantes ou détériorées lors du transport, l'acheteur devra formuler toutes les réserves nécessaires sur le bon de commande à réception desdites marchandises. Ces réserves devront être, en outre, confirmées par écrit dans les cinq jours suivant la livraison, par courrier recommandé AR adressé à la société. ")]),s("h2",[e._v("Clause n° 10 : Force majeure")]),s("p",[e._v(" La responsabilité de la société ... (dénomination sociale) ne pourra pas être mise en oeuvre si la non-exécution ou le retard dans l'exécution de l'une de ses obligations décrites dans les présentes conditions générales de vente découle d'un cas de force majeure. À ce titre, la force majeure s'entend de tout événement extérieur, imprévisible et irrésistible au sens de l'article 1148 du Code civil.")]),s("h2",[e._v("Clause n° 11 : Tribunal compétent")]),s("p",[e._v(" Tout litige relatif à l'interprétation et à l'exécution des présentes conditions générales de vente est soumis au droit français. À défaut de résolution amiable, le litige sera porté devant le Tribunal de commerce ... (lieu du siège social). ")])])}],ir={name:"Cgv"},or=ir,nr=(0,p.Z)(or,rr,ar,!1,null,null,null),lr=nr.exports,cr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",{staticClass:"text-center mt-5"},[e._v(" Creation d'une annonce ")]),s("AddProductForm")],1)},dr=[],ur=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container m-auto"},[s("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.validate;return[s("form",{on:{submit:function(t){t.preventDefault(),r().then(e.handleSubmit)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"title"}},[e._v("Titre de l'annonce")]),s("ValidationProvider",{attrs:{rules:"required|minmax:5,50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"title"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"description"}},[e._v("Description")]),s("ValidationProvider",{attrs:{rules:"required|minmax:10,500"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"form-control",class:"is-"+a,attrs:{type:"textarea",id:"description"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"price"}},[e._v("Prix / Jour (€)")]),s("ValidationProvider",{attrs:{rules:"required|integer|minmax:1,10"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],staticClass:"form-control",class:"is-"+a,attrs:{type:"number",id:"price"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"address"}},[e._v("Adresse de retrait du produit")]),s("ValidationProvider",{attrs:{rules:"required|minmax:1,50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],staticClass:"form-control",class:"is-"+a,attrs:{type:"text",id:"address"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"category"}},[e._v("Catégorie")]),s("ValidationProvider",{attrs:{rules:"required|minmax:1,50"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("select",{directives:[{name:"model",rawName:"v-model",value:e.category,expression:"category"}],staticClass:"form-control",class:"is-"+a,attrs:{id:"category"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.category=t.target.multiple?s:s[0]}}},[e.parentCategories.length<1?s("option",[e._v(" pas de parent")]):e._e(),e._l(e.parentCategories,(function(t){return s("option",{key:t.id,domProps:{value:{id:t.id}}},[e._v(e._s(t.name))])}))],2),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"photos"}},[e._v("Photos")]),s("ValidationProvider",{attrs:{rules:"size:2000"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.failed;return[s("input",{ref:"file",staticClass:"form-control",class:"is-"+a,attrs:{type:"file",id:"photos"},on:{change:e.uploadFile}}),s("span",{staticClass:"form-error"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Submit")])])]}}])})],1)},mr=[];(0,be.l7)("size",{...Ce.dp,message:"Le fichier ne doit pas faire plus de {_size_}Kb",params:["size"]}),(0,be.l7)("minmax",{validate(e,{min:t,max:s}){return e.length>=t&&e.length<=s},message:"Ce champs doit contenir entre {min} et {max} caractères",params:["min","max"]}),(0,be.l7)("required",{...Ce.C1,message:"Ce champs est obligatoire"}),(0,be.l7)("integer",{...Ce._L,message:"La valeur doit être un nombre entier"});var pr={name:"AddProductForm",components:{ValidationProvider:be.d_,ValidationObserver:be._j},data:()=>({name:"",description:"",address:"",price:"",images:null}),methods:{uploadFile(){this.images=this.$refs.file.files[0]},handleSubmit:async function(){const e=new FormData;e.append("file",this.Images);let t=await W.postImage(e);if(t.data.contentUrl){const e=await W.postProduct({name:this.name,description:this.description,address:this.address,price:parseInt(this.price),category:"/categories/"+this.category.id,user:"/users/"+this.$store.getters.user["id"],files:[{path:t.data.contentUrl}]});this.$store.dispatch("user",{...this.$store.getters.user,products:[...this.$store.getters.user.products,e.data]}),this.$router.push("/")}}},computed:{...(0,d.Se)(["parentCategories"])},created(){W.parentCategories().then((e=>{this.$store.dispatch("parentCategories",e.data["hydra:member"].filter((e=>e?.parent)))})).catch((e=>console.log(e)))}},hr=pr,fr=(0,p.Z)(hr,ur,mr,!1,null,null,null),vr=fr.exports,gr={components:{AddProductForm:vr},name:"AddProductPage"},br=gr,Cr=(0,p.Z)(br,cr,dr,!1,null,null,null),yr=Cr.exports,_r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("h1",{staticClass:"h3 mt-5"},[e._v("Mes annonces")]),s("hr"),s("Products-list")],1)},xr=[],wr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user.products.length>0?s("div",{},[s("b-card-group",{staticClass:"card-deck-custom-grid mb-5",attrs:{deck:""}},e._l(e.user.products,(function(t){return s("router-link",{key:t.id,attrs:{to:"/products/"+t.id,"per-page":e.perPage,"current-page":e.currentPage}},[s("b-card",{staticClass:"product-card",attrs:{"img-src":0!==t.files.length?"https://localhost:8443/media"+t.files[0].path:"https://hearhear.org/wp-content/uploads/2019/09/no-image-icon.png","img-alt":"Image","img-top":""},scopedSlots:e._u([{key:"footer",fn:function(){return[s("small",{staticClass:"text-muted"},[e._v(e._s(t.price)+"€ / jour")])]},proxy:!0}],null,!0)},[s("b-card-text",{staticClass:"product-card-text"},[e._v(e._s(t.name))])],1)],1)})),1),s("b-pagination",{attrs:{pills:"","total-rows":e.nbResults,"per-page":e.perPage,"first-number":"","last-number":"",align:"center",limit:"8"},on:{change:e.onPageChanged},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):s("div",[s("p",[e._v("Aucune annonce enregistrée")])])},kr=[],Lr={components:{},name:"ProductsList",data(){return{perPage:20,currentPage:1,paginatedProducts:[],nbResults:0}},methods:{paginate(e,t){console.log(this.user.products);let s=this.user.products;this.paginatedProducts=s.slice(t*e,(t+1)*e)},onPageChanged(e){this.paginate(this.perPage,e-1),window.scrollTo(0,0)}},mounted(){this.nbResults=this.user.products.length,this.paginate(this.perPage,0)},computed:{...(0,d.Se)(["user"])}},Pr=Lr,Ir=(0,p.Z)(Pr,wr,kr,!1,null,"659de324",null),Er=Ir.exports,Ar={components:{ProductsList:Er},name:"RenterProductsPage"},Sr=Ar,Nr=(0,p.Z)(Sr,_r,xr,!1,null,null,null),Rr=Nr.exports,Mr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"accordion",attrs:{role:"tablist"}},e._l(e.conversations.data,(function(t,r){return s("div",{key:t.id},e._l(t,(function(t,a){return s("div",{key:t.id},[s("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[s("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",variant:"info"}},[s("h3",[e._v("productID: "+e._s(r))]),s("h3",[e._v("OtherUser: "+e._s(a))])])],1),s("b-collapse",{attrs:{id:"accordion-1",visible:"",accordion:"my-accordion",role:"tabpanel"}},[s("b-card-body",[s("b-card-text",[s("Conversation",{attrs:{messages:t}}),s("input",{attrs:{type:"text"}}),s("button",[e._v("Envoyer")])],1)],1)],1)],1)],1)})),0)})),0)},Tr=[],qr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.messages,(function(t){return s("div",{key:t.id},[t.senderId==e.user?s("p",[e._v("Moi : "+e._s(t.text))]):s("p",[e._v(e._s(t.senderId)+" : "+e._s(t.text))])])})),0)},$r=[],Vr={components:{},data(){return{user:this.$store.getters.user["@id"].split("/")[2]}},props:{messages:Array},name:"Conversation"},Br=Vr,Fr=(0,p.Z)(Br,qr,$r,!1,null,null,null),Dr=Fr.exports,jr={components:{Conversation:Dr},name:"MessagesPage",data(){return{conversations:[],conversationsWithNames:[]}},mounted(){Ft.getConversations(this.$store.getters.user["@id"].split("/")[2]).then((e=>{console.log(e),this.conversations=e})).catch((e=>console.log(e)))},methods:{conversationToggle(e){document.getElementById(e).classList.toggle("visible")}}},Or=jr,Ur=(0,p.Z)(Or,Mr,Tr,!1,null,null,null),Hr=Ur.exports,Gr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center mt-5 text-success"},[e._v(" Votre réservation a bien été prise en compte ")])},Zr=[],zr={name:"Sucess"},Wr=zr,Kr=(0,p.Z)(Wr,Gr,Zr,!1,null,null,null),Jr=Kr.exports,Yr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center mt-5 text-success"},[e._v(" Votre caution a bien été rendu Merci pour votre confiance ")])},Xr=[],Qr={name:"Refund"},ea=Qr,ta=(0,p.Z)(ea,Yr,Xr,!1,null,null,null),sa=ta.exports,ra=s(5069),aa=s(3017),ia=s(4702);r["default"].use(d.ZP);const oa={user:null,products:[],product:null,numberOfProductsNotValid:0,parentCategories:[],reservations:[],categories:[]},na=new d.ZP.Store({plugins:[(0,ia.Z)()],state:oa,getters:{user:e=>e.user,product:e=>e.product,parentCategories:e=>e.parentCategories,numberOfProductsNotValid:e=>e.numberOfProductsNotValid,adminPermission:(e,t)=>!!t.user&&t.user.roles.includes("ROLE_ADMIN"),userPermission:(e,t)=>!!t.user&&t.user.roles.includes("ROLE_USER"),renterPermission:(e,t)=>!!t.user&&t.user.roles.includes("ROLE_RENTER"),products:e=>e.products,reservations:e=>e.reservations,categories:e=>e.categories},actions:{user(e,t){e.commit("user",t)},product(e,t){e.commit("product",t)},products(e,t){e.commit("products",t)},numberOfProductsNotValid(e,t){e.commit("numberOfProductsNotValid",t)},parentCategories(e,t){e.commit("parentCategories",t)},reservations(e,t){e.commit("reservations",t)},categories(e,t){e.commit("categories",t)}},mutations:{user(e,t){e.user=t},product(e,t){e.product=t},products(e,t){e.products=t},numberOfProductsNotValid(e,t){e.numberOfProductsNotValid=t},parentCategories(e,t){e.parentCategories=t},reservations(e,t){e.reservations=t},categories(e,t){e.categories=t}}});var la=na,ca=s(1093),da=(s(44),s(6292)),ua=s(5205);(0,ua.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),r["default"].use(ra.XG7),r["default"].use(aa.A7),r["default"].use(da,{load:{key:"AIzaSyBF0i4DOu1KSee4xm2LSnWMF_wEysCB4GA",libraries:"places"}}),r["default"].prototype.$apiKey="AIzaSyBF0i4DOu1KSee4xm2LSnWMF_wEysCB4GA",r["default"].config.productionTip=!1,r["default"].use(pe.Z),r["default"].use(ca["default"]);const ma=[{path:"/",component:Ps},{path:"/login",component:Ie},{path:"/register",component:Ue},{path:"/admin/categories",component:tt},{path:"/admin/products",component:nt},{path:"/search",component:Rs},{path:"/publish",component:yr},{path:"/products",component:Rr},{path:"/products/:productId",component:ls},{path:"/user/:userId",component:hs},{path:"/messages",component:Hr},{path:"/success",component:Jr},{path:"/refund",component:sa},{path:"/account",component:Js},{path:"/conditions-generales-utilisation",component:sr},{path:"/conditions-generales-vente",component:lr}],pa=new pe.Z({routes:ma,history:!0,mode:"history"});new r["default"]({render:e=>e(me),router:pa,store:la}).$mount("#app")}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,r,a,i){if(!r){var o=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],i=e[d][2];for(var n=!0,l=0;l<r.length;l++)(!1&i||o>=i)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(n=!1,i<o&&(o=i));if(n){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,a,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,o=r[0],n=r[1],l=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(l)var d=l(s)}for(t&&t(r);c<o.length;c++)i=o[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},r=self["webpackChunkproject"]=self["webpackChunkproject"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(5350)}));r=s.O(r)})();
//# sourceMappingURL=app.9f462731.js.map